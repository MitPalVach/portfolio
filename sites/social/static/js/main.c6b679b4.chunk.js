(this.webpackJsonpsocial_ts=this.webpackJsonpsocial_ts||[]).push([[0],{10:function(e,t,n){e.exports={navbar:"Navbar_navbar__CLYHD",navbarItem:"Navbar_navbarItem__1xOtf",navbarItem__link:"Navbar_navbarItem__link__2g1i6",active:"Navbar_active__3mbhk",friendsOnline:"Navbar_friendsOnline__2Jno3"}},133:function(e,t,n){e.exports={dialogsMessages__item:"Message_dialogsMessages__item__fepUr"}},135:function(e,t,n){e.exports={posts:"MyPosts_posts__3tZ1c",myPosts__input_inner:"MyPosts_myPosts__input_inner__3ju60",myPosts__input:"MyPosts_myPosts__input__3c6Pi",myPosts__button:"MyPosts_myPosts__button__2y1hV"}},166:function(e,t,n){},23:function(e,t,n){e.exports={usersInner:"Users_usersInner__2v4Ca",usersWrapper:"Users_usersWrapper__2gv8N",users__leftSide:"Users_users__leftSide__2K0Yk",usersPhoto:"Users_usersPhoto__3osYH",usersBtn:"Users_usersBtn__1iOAv",users__rightSide:"Users_users__rightSide__2yxXk",pagination:"Users_pagination__2Njh9",usersPagination:"Users_usersPagination__1qbrf",pages:"Users_pages__2ZPtK",selectedPage:"Users_selectedPage__J63sh",usersItems:"Users_usersItems__3D9Hj",pageBtnDisplayNone:"Users_pageBtnDisplayNone__2TZjX",pageBtn:"Users_pageBtn__2Wtq-"}},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dir__title:"Dialogs_dir__title__euGaD",dialogUsers:"Dialogs_dialogUsers__3n8lx",dialogMessages__wrapper:"Dialogs_dialogMessages__wrapper__3yGDs",dialogMessages:"Dialogs_dialogMessages__3ag9d",dialogFormWrapper:"Dialogs_dialogFormWrapper__16edN",dialogMessages__input:"Dialogs_dialogMessages__input__1ACmk",dialogMessages__btn:"Dialogs_dialogMessages__btn__QhydC"}},27:function(e,t,n){e.exports={header:"Header_header__1VCKf",header__inner:"Header_header__inner__26ef8",headerLogo:"Header_headerLogo__pHUY0",headerTitle:"Header_headerTitle__3Y2pE",loginBlock:"Header_loginBlock__6mma5",loginLogoutBtn:"Header_loginLogoutBtn__31tEv"}},290:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(70),i=n.n(r),o=(n(166),n(40)),c=n(41),u=n(47),l=n(45),d=n(61),_=n.n(d),p=n(12),j=n(14),b=n(10),m=n.n(b),g=n(11),f=n(94),O=n.n(f),h=n(74),v=n.n(h),x=n(0),P=function(e){return Object(x.jsxs)("div",{className:v.a.fOnline__inner,children:[Object(x.jsx)("div",{className:v.a.fOnline__name,children:e.name}),Object(x.jsx)("img",{className:v.a.fOnline__ava,src:e.ava,alt:""})]})},N=function(e){var t=e.friendsOnline.sidebar.map((function(e){return Object(x.jsx)(P,{name:e.name,ava:e.ava,id:e.id},e.id)}));return Object(x.jsxs)("div",{className:O.a.fOnline,children:[Object(x.jsx)("h5",{className:O.a.fOnline__title,children:"\u0414\u0440\u0443\u0437\u044c\u044f \u043e\u043d\u043b\u0430\u0439\u043d"}),t]})},I=Object(g.b)((function(e){return{friendsOnline:e.friendsOnline}}))(N),w=function(){return Object(x.jsxs)("nav",{className:m.a.navbar,children:[Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/dialogs",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/users",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/music",children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/photo",children:"\u0424\u043e\u0442\u043e"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/video",children:"\u0412\u0438\u0434\u0435\u043e"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(j.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(x.jsx)("div",{className:m.a.friendsOnline,children:Object(x.jsx)(I,{})})]})},S=n(13),y=n.n(S),C=n(20),k=n(46),U=n(5),E=n(131),A=n.n(E).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"411482a7-ac02-48c2-a201-383524308513"}}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return A.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},M=function(e){return A.delete("follow/".concat(e))},D=function(e){return A.post("follow/".concat(e))},F=function(e){return console.warn("Obsolete method. Please profileApi object"),L.getProfile(e)},L={getProfile:function(e){return A.get("profile/".concat(e))},getStatus:function(e){return A.get("profile/status/".concat(e))},updateStatus:function(e){return A.put("profile/status/",{status:e})}},z=function(){return A.get("auth/me")},B=function(e,t,n){return A.post("auth/login",{email:e,password:t,rememberMe:n})},W=function(){return A.delete("auth/login")},G="FOLLOW",H="UNFOLLOW",R="SET_USERS",J="SET_CURRENT_PAGE",K="SET_TOTAL_USERS_COUNT",Y="ON_PAGE_CHANGED",V="TOGGLE_IS_FETCHING",X="TOGGLE_IS_FOLLOWING_PROGRESS",q={users:[],pageSize:20,totalUsersCount:0,currentPage:1,pageNumber:1,isFetching:!0,followingInProgress:[],portionSize:10},Z=function(e){return{type:G,userId:e}},Q=function(e){return{type:H,userId:e}},$=function(e){return{type:J,currentPage:e}},ee=function(e){return{type:V,isFetching:e}},te=function(e,t){return{type:X,isFetching:e,userId:t}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!0}):e}))});case H:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!1}):e}))});case R:return Object(U.a)(Object(U.a)({},e),{},{users:t.users});case J:return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.currentPage});case K:return Object(U.a)(Object(U.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Y:return Object(U.a)(Object(U.a)({},e),{},{pageNumber:t.pageNumber});case V:return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.isFetching});case X:return Object(U.a)(Object(U.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(k.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},se=n(23),ae=n.n(se),re=n(59),ie=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var r=Math.ceil(t/e.portionSize),i=Object(s.useState)(1),o=Object(re.a)(i,2),c=o[0],u=o[1],l=(c-1)*e.portionSize+1,d=c*e.portionSize;return Object(x.jsxs)("div",{className:ae.a.usersPagination,children:[c>1&&Object(x.jsx)("button",{className:ae.a.pageBtn,onClick:function(){u(c-1)},children:" \u2190 "}),n.filter((function(e){return e>=l&&e<=d})).map((function(t){return Object(x.jsx)("span",{className:e.currentPage===t?ae.a.selectedPage:ae.a.pages,onClick:function(){return e.onPageChanged(t)},children:t},t)})),r>c&&Object(x.jsx)("button",{className:ae.a.pageBtn,onClick:function(){u(c+1)},children:" \u2192 "})]})},oe=function(e){return Object(x.jsxs)("div",{className:ae.a.usersItems,children:[Object(x.jsx)(j.b,{to:"/profile/"+e.user.id,children:Object(x.jsx)("img",{className:ae.a.usersPhoto,alt:"user_photo",src:null!==e.user.photos.small?e.user.photos.small:"https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"})}),Object(x.jsx)("div",{children:e.user.followed?Object(x.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(x.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.follow(e.user.id)},children:"Follow"})}),Object(x.jsxs)("span",{children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("div",{children:e.user.name}),Object(x.jsx)("div",{children:e.user.status})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("div",{children:"props.location.country"}),Object(x.jsx)("div",{children:"props.location.city"})]})]})]})},ce=function(e){return Object(x.jsxs)("div",{className:ae.a.usersInner,children:[Object(x.jsx)(ie,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:e.portionSize}),e.usersPage.map((function(t){return Object(x.jsx)(oe,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},t.id)}))]})},ue=n.p+"static/media/spinner.b767aab4.svg",le=function(){return Object(x.jsx)("div",{style:{background:"white"},children:Object(x.jsx)("img",{src:ue,alt:ue})})},de=n(60),_e=function(e){return{isAuth:e.auth.isAuth}};function pe(e){return Object(g.b)(_e)((function(t){t.isAuth;var n=Object(de.a)(t,["isAuth"]);return Object(x.jsx)(e,Object(U.a)({},n))}))}var je=n(9),be=n(132),me=Object(be.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ge=function(e){return e.usersPage.pageSize},fe=function(e){return e.usersPage.totalUsersCount},Oe=function(e){return e.usersPage.currentPage},he=function(e){return e.usersPage.isFetching},ve=function(e){return e.usersPage.followingInProgress},xe=function(e){return e.usersPage.portionSize},Pe=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[this.props.isFetching?Object(x.jsx)(le,{}):null,Object(x.jsx)(ce,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,usersPage:this.props.usersPage,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize})]})}}]),n}(a.a.Component),Ne=Object(je.d)(pe,Object(g.b)((function(e){return{usersPage:me(e),pageSize:ge(e),totalUsersCount:fe(e),currentPage:Oe(e),isFetching:he(e),followingInProgress:ve(e),portionSize:xe(e)}}),{follow:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(te(!0,e)),t.next=3,D(e);case 3:0===t.sent.data.resultCode&&n(Z(e)),n(te(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(te(!0,e)),t.next=3,M(e);case 3:0===t.sent.data.resultCode&&n(Q(e)),n(te(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:$,toggleFollowingProgress:te,getUsers:function(e,t){return function(){var n=Object(C.a)(y.a.mark((function n(s){var a;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(ee(!0)),s($(e)),n.next=4,T(e,t);case 4:a=n.sent,s(ee(!1)),s((i=a.items,{type:R,users:i})),s((r=a.totalCount,{type:K,totalUsersCount:r}));case 8:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()},onPageChanged:function(e){return{type:Y,pageNumber:e}},toggleIsFetching:ee}))(Pe),Ie=function(){return Object(x.jsx)("div",{children:"News"})},we=function(){return Object(x.jsx)("div",{children:"Music"})},Se=function(){return Object(x.jsx)("div",{children:"Photo"})},ye=function(){return Object(x.jsx)("div",{children:"Video"})},Ce=function(){return Object(x.jsx)("div",{children:"Settings"})},ke="SEND-MESSAGE",Ue={dialogs:[{id:1,name:"Tom",friendsAvatar:"https://images.pexels.com/photos/3622695/pexels-photo-3622695.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"},{id:2,name:"Alex",friendsAvatar:"https://images.pexels.com/photos/3732453/pexels-photo-3732453.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"},{id:3,name:"Jane",friendsAvatar:"https://images.pexels.com/photos/6474755/pexels-photo-6474755.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hi"},{id:3,message:"Bye"}]},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ke:return Object(U.a)(Object(U.a)({},e),{},{messages:[{id:6,message:t.newMessageBody}].concat(Object(k.a)(e.messages))})}return e},Ae=n(26),Te=n.n(Ae),Me=n(49),De=n.n(Me),Fe=function(e){return Object(x.jsx)("div",{className:De.a.dialogs__item,children:Object(x.jsxs)(j.b,{className:De.a.dialogs__itemLink,to:"/dialogs/"+e.dialogs.id,activeClassName:De.a.dialogs__itemLink_active,children:[Object(x.jsx)("img",{className:De.a.dialogs__itemLink_img,src:e.dialogs.friendsAvatar,alt:""}),Object(x.jsx)("div",{className:De.a.dialogs__item_name,children:e.dialogs.name})]})})},Le=n(133),ze=n.n(Le),Be=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:ze.a.dialogsMessages__item,children:e.messages.message},e.messages.id)})},We=n(128),Ge=n(129),He=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"},Re=function(e){return function(t){if(t.length>e)return"\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},Je=n(32),Ke=n.n(Je),Ye=function(e){e.input,e.meta;var t=Object(de.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(x.jsxs)("div",{className:"".concat(Ke.a.formControl," ").concat(n?Ke.a.error:""),children:[Object(x.jsx)("div",{children:Object(x.jsx)("textarea",Object(U.a)(Object(U.a)({},e.input),t))}),n&&Object(x.jsx)("div",{className:Ke.a.errorMessage,children:e.meta.error})]})},Ve=function(e){e.input,e.meta;var t=Object(de.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(x.jsxs)("div",{className:"".concat(Ke.a.formControl," ").concat(n?Ke.a.error:""),children:[Object(x.jsx)("div",{children:Object(x.jsx)("textarea",Object(U.a)(Object(U.a)({className:Ke.a.inputWindow},e.input),t))}),n&&Object(x.jsx)("div",{className:Ke.a.errorMessage,children:e.meta.error})]})},Xe=Re(50),qe=Object(Ge.a)({form:"dialogAddMessageForm"})((function(e){return Object(x.jsxs)("form",{className:Te.a.dialogFormWrapper,onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(We.a,{className:Te.a.dialogMessages__input,component:Ye,name:"newMessageBody",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[He,Xe]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:Te.a.dialogMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),Ze=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(x.jsx)(Fe,{dialogs:e},e.id)})),s=t.messages.map((function(e){return Object(x.jsx)(Be,{messages:e},e.id)}));return Object(x.jsxs)("div",{className:Te.a.dialogs,children:[Object(x.jsx)("div",{className:Te.a.dialogUsers,children:n}),Object(x.jsxs)("div",{className:Te.a.dialogMessages__wrapper,children:[Object(x.jsx)("h4",{className:Te.a.dir__title,children:" Dialogs "}),Object(x.jsx)("div",{className:Te.a.dialogMessages,children:s}),Object(x.jsx)(qe,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})},Qe=Object(je.d)(Object(g.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:ke,newMessageBody:e}}(t))}}})),pe)(Ze),$e=n(48),et=n.n($e),tt=function(e){var t=Object(s.useState)(!1),n=Object(re.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(e.status),o=Object(re.a)(i,2),c=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(x.jsxs)("div",{className:et.a.statusText,children:[!a&&Object(x.jsx)("span",{onDoubleClick:function(){r(!0)},children:c||"no status"}),a&&Object(x.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,value:c})]})},nt=function(e){return e.profile?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:et.a.profileImg,src:"http://green-forest36.ru/wp-content/uploads/2020/04/2-1.jpg",alt:"owl"})}),Object(x.jsxs)("div",{className:et.a.avatar,children:[Object(x.jsx)("img",{className:et.a.avatarImg,src:e.profile.photos.large,alt:"avatar"}),Object(x.jsx)(tt,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(x.jsx)(le,{})},st="ADD-POST",at="DELETE_POST",rt="SET_USER_PROFILE",it="SET_USER_STATUS",ot="SET_UPDATE_STATUS",ct={postData:[{message:"Hi, how are you?",id:1,likeCount:12},{message:"What do you think about JS?",id:2,likeCount:22},{message:"I learn not only JS but and TS!",id:3,likeCount:42},{message:"Oh, it's cool",id:4,likeCount:23}],profile:null,status:""},ut=function(e){return{type:it,status:e}},lt=function(e){return{type:"SET_UPDATE_STATUS",status:e}},dt=function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){var s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return s=t.sent,n((a=s.data,{type:rt,profile:a})),t.next=6,n(_t(e));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},_t=function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){var s;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getStatus(e);case 2:s=t.sent,n(ut(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},pt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ct,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case st:var n={id:5,message:t.newPostText,likeCount:0};return Object(U.a)(Object(U.a)({},e),{},{postData:[n].concat(Object(k.a)(e.postData))});case at:return Object(U.a)(Object(U.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});case it:return Object(U.a)(Object(U.a)({},e),{},{status:t.status});case rt:return Object(U.a)(Object(U.a)({},e),{},{profile:t.profile});case ot:return Object(U.a)(Object(U.a)({},e),{},{status:t.status})}return e},jt=n(135),bt=n.n(jt),mt=n(36),gt=n.n(mt),ft=function(e){return Object(x.jsxs)("div",{className:gt.a.postsItem,children:[Object(x.jsxs)("div",{className:gt.a.postsItem__inner,children:[Object(x.jsx)("img",{className:gt.a.postsItem__avatar,src:"https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:"avatar_to_all"}),e.post.message]}),Object(x.jsxs)("div",{className:gt.a.postsItem__activity,children:[Object(x.jsxs)("span",{className:gt.a.postsItem__like,children:[e.post.likeCount," \u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"]}),Object(x.jsx)("span",{className:gt.a.postsItem__send,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})]})]})},Ot=n(76),ht=n.n(Ot),vt=Re(50),xt=Object(Ge.a)({form:"profileAddPostForm"})((function(e){return Object(x.jsxs)("form",{className:ht.a.profileFormWrapper,onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(We.a,{className:ht.a.profileMessages__input,component:Ye,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[He,vt]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:ht.a.profileMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),Pt=a.a.memo((function(e){var t=e.profilePage.postData.map((function(e){return Object(x.jsx)(ft,{post:e},e.id)}));return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)(xt,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=""}})}),Object(x.jsx)("div",{className:bt.a.posts,children:t})]})})),Nt=Object(g.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:st,newPostText:e}}(t))}}}))(Pt),It=function(e){var t=e.profilePage,n=e.updateStatus;return Object(x.jsxs)("div",{children:[Object(x.jsx)(nt,{profile:t.profile,status:t.status,updateStatus:n}),Object(x.jsx)(Nt,{profilePage:t})]})},wt=Object(je.d)(Object(g.b)((function(e){return{profilePage:e.profilePage,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:dt,updateStatus:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(lt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.e)((function(e){var t=Object(g.c)();return Object(s.useEffect)((function(){var n=+e.match.params.userId;n||(n=e.authorizedUserId||0),t(dt(n)),t(ut(n))}),[]),Object(x.jsx)(It,{getUserProfile:e.getUserProfile,updateStatus:e.updateStatus,profilePage:e.profilePage})})),St=n(27),yt=n.n(St),Ct=function(e){return Object(x.jsxs)("header",{className:yt.a.header,children:[Object(x.jsx)("a",{className:yt.a.header__inner,href:"/profile",children:Object(x.jsx)("img",{className:yt.a.headerLogo,src:"https://img.icons8.com/ios/452/owl.png",alt:"logo"})}),Object(x.jsx)("a",{className:yt.a.header__inner,href:"/profile",children:Object(x.jsx)("h1",{className:yt.a.headerTitle,children:"owlbook.com"})}),Object(x.jsx)("div",{className:yt.a.loginBlock,children:e.isAuth?Object(x.jsxs)("div",{children:[e.login," ",Object(x.jsx)("button",{className:yt.a.loginLogoutBtn,onClick:e.logout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(x.jsx)(j.b,{className:yt.a.loginLogoutBtn,to:"/login",children:"\u0432\u043e\u0439\u0442\u0438"})})]})},kt=n(38),Ut="auth/SET_USER_DATA",Et={userId:null,email:null,login:null,isAuth:!1},At=function(e,t,n,s){return{type:Ut,payload:{userId:e,email:t,login:n,isAuth:s}}},Tt=function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){var n,s,a,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,a=s.id,r=s.email,i=s.login,t(At(a,r,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Mt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Et,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ut:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},Dt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsx)(Ct,Object(U.a)({},this.props))}}]),n}(a.a.Component),Ft=Object(g.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===e.sent.data.resultCode&&t(At(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Dt),Lt=n(77),zt=n.n(Lt),Bt=Object(Ge.a)({form:"login"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:zt.a.loginFormWrapper,children:[Object(x.jsx)("div",{children:Object(x.jsx)(We.a,{"aria-label":"Email",placeholder:"Email",type:"Email",name:"email",component:Ve,validate:He})}),Object(x.jsx)("div",{children:Object(x.jsx)(We.a,{"aria-label":"Password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",component:Ve,validate:He})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(We.a,{type:"checkbox",name:"rememberMe",component:"input"})," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"]}),e.error&&Object(x.jsx)("div",{className:zt.a.formSummaryError,children:e.error}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:zt.a.loginBtn,children:"Login"})})]})})),Wt=Object(g.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(C.a)(y.a.mark((function s(a){var r,i;return y.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,B(e,t,n);case 2:if(0!==(r=s.sent).data.resultCode){s.next=8;break}return s.next=6,a(Tt());case 6:s.next=10;break;case 8:i=r.data.messages.length>0?r.data.messages[0]:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430",a(Object(kt.a)("login",{_error:i}));case 10:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(x.jsx)(Bt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Gt="https://cdn-icons-png.flaticon.com/512/12/12426.png",Ht={sidebar:[{id:1,name:"\u041d\u0435\u044f\u0441\u044b\u0442\u044c",ava:Gt},{id:2,name:"\u0424\u0438\u043b\u0438\u043d",ava:Gt},{id:3,name:"\u041f\u043e\u043b\u044f\u0440\u043d\u0430\u044f \u0441\u043e\u0432\u0430",ava:Gt}]},Rt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ht;return e},Jt=n(136),Kt=n(130),Yt="SUCCESS_INITIALIZED",Vt={initialized:!1},Xt=function(){return{type:Yt}},qt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Yt:return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});default:return e}},Zt=Object(je.c)({profilePage:pt,dialogsPage:Ee,friendsOnline:Rt,usersPage:ne,auth:Mt,form:Kt.a,app:qt}),Qt=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||je.d,$t=Object(je.e)(Zt,Qt(Object(je.a)(Jt.a))),en=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(x.jsx)("div",{className:_.a.container,children:Object(x.jsxs)("div",{className:_.a.app__wrapper,children:[Object(x.jsx)(Ft,{}),Object(x.jsx)(w,{}),Object(x.jsx)("div",{className:_.a.content__wrapper,children:Object(x.jsxs)("div",{className:_.a.content__inner,children:[Object(x.jsx)(p.a,{path:"/profile/:userId?",render:function(){return Object(x.jsx)(wt,{})}}),Object(x.jsx)(p.a,{path:"/dialogs",render:function(){return Object(x.jsx)(Qe,{})}}),Object(x.jsx)(p.a,{path:"/users",render:function(){return Object(x.jsx)(Ne,{})}}),Object(x.jsx)(p.a,{path:"/news",render:function(){return Object(x.jsx)(Ie,{})}}),Object(x.jsx)(p.a,{path:"/music",render:function(){return Object(x.jsx)(we,{})}}),Object(x.jsx)(p.a,{path:"/photo",render:function(){return Object(x.jsx)(Se,{})}}),Object(x.jsx)(p.a,{path:"/video",render:function(){return Object(x.jsx)(ye,{})}}),Object(x.jsx)(p.a,{path:"/settings",render:function(){return Object(x.jsx)(Ce,{})}}),Object(x.jsx)(p.a,{path:"/login",render:function(){return Object(x.jsx)(Wt,{})}})]})})]})}):Object(x.jsx)(le,{})}}]),n}(a.a.Component),tn=Object(je.d)(p.e,Object(g.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Tt());Promise.all([t]).then((function(){e(Xt())}))}}}))(en),nn=function(e){return Object(x.jsx)(j.a,{children:Object(x.jsx)(g.a,{store:$t,children:Object(x.jsx)(tn,{})})})};i.a.render(Object(x.jsx)(nn,{}),document.getElementById("root"))},32:function(e,t,n){e.exports={formControl:"FormControls_formControl__zKx4R",error:"FormControls_error__frz7K",inputWindow:"FormControls_inputWindow__2O6cV",errorMessage:"FormControls_errorMessage__3coxl"}},36:function(e,t,n){e.exports={postsItem:"Post_postsItem__1DHL5",postsItem__inner:"Post_postsItem__inner__1-7QK",postsItem__avatar:"Post_postsItem__avatar__3N6Bd",postsItem__messages:"Post_postsItem__messages__1V62h",postsItem__activity:"Post_postsItem__activity__1G8T2",postsItem__like:"Post_postsItem__like__3sh5I",postsItem__send:"Post_postsItem__send__QVbcU"}},48:function(e,t,n){e.exports={profileImg:"ProfileInfo_profileImg__3mXT7",avatar:"ProfileInfo_avatar__3xuFq",avatarImg:"ProfileInfo_avatarImg__2izmI",myPosts:"ProfileInfo_myPosts__1no8m",myPosts__input:"ProfileInfo_myPosts__input__3tJm9",myPosts__button:"ProfileInfo_myPosts__button__19Gsk",statusText:"ProfileInfo_statusText__1KWIZ"}},49:function(e,t,n){e.exports={dialogs__item:"DialogItem_dialogs__item__1Cdio",dialogs__itemLink_img:"DialogItem_dialogs__itemLink_img__cYh4p",dialogs__itemLink:"DialogItem_dialogs__itemLink__tlNq4",dialogs__itemLink_active:"DialogItem_dialogs__itemLink_active__2OIAv",dialogs__item_name:"DialogItem_dialogs__item_name__3uvlk"}},61:function(e,t,n){e.exports={container:"App_container__16xz_",app__wrapper:"App_app__wrapper__1z8PO",content__wrapper:"App_content__wrapper__32aMC",content__inner:"App_content__inner__37WXs"}},74:function(e,t,n){e.exports={fOnline__inner:"FriendsAvatar_fOnline__inner__3mbGn",fOnline__name:"FriendsAvatar_fOnline__name__2sdlO",fOnline__ava:"FriendsAvatar_fOnline__ava__22q3P"}},76:function(e,t,n){e.exports={profileFormWrapper:"Profile_profileFormWrapper__1TJsL",profileMessages__input:"Profile_profileMessages__input__1M3bu",profileMessages__btn:"Profile_profileMessages__btn__1SIl3"}},77:function(e,t,n){e.exports={loginFormWrapper:"Login_loginFormWrapper__20PK_",loginBtn:"Login_loginBtn__JiEkY",formSummaryError:"Login_formSummaryError__3cy0x"}},94:function(e,t,n){e.exports={fOnline:"FriendsOnline_fOnline__3EvEn",fOnline__title:"FriendsOnline_fOnline__title__3WIS0"}}},[[290,1,2]]]);
//# sourceMappingURL=main.c6b679b4.chunk.js.map