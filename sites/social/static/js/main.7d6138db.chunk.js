(this.webpackJsonpsocial_ts=this.webpackJsonpsocial_ts||[]).push([[0],{10:function(e,t,n){e.exports={navbar:"Navbar_navbar__CLYHD",navbarItem:"Navbar_navbarItem__1xOtf",navbarItem__link:"Navbar_navbarItem__link__2g1i6",active:"Navbar_active__3mbhk",friendsOnline:"Navbar_friendsOnline__2Jno3"}},134:function(e,t,n){e.exports={dialogsMessages__item:"Message_dialogsMessages__item__fepUr"}},135:function(e,t,n){e.exports={posts:"MyPosts_posts__3tZ1c",myPosts__input_inner:"MyPosts_myPosts__input_inner__3ju60",myPosts__input:"MyPosts_myPosts__input__3c6Pi",myPosts__button:"MyPosts_myPosts__button__2y1hV"}},166:function(e,t,n){},23:function(e,t,n){e.exports={usersInner:"Users_usersInner__2v4Ca",usersWrapper:"Users_usersWrapper__2gv8N",users__leftSide:"Users_users__leftSide__2K0Yk",usersPhoto:"Users_usersPhoto__3osYH",usersBtn:"Users_usersBtn__1iOAv",users__rightSide:"Users_users__rightSide__2yxXk",pagination:"Users_pagination__2Njh9",usersPagination:"Users_usersPagination__1qbrf",pages:"Users_pages__2ZPtK",selectedPage:"Users_selectedPage__J63sh",usersItems:"Users_usersItems__3D9Hj",pageBtnDisplayNone:"Users_pageBtnDisplayNone__2TZjX",pageBtn:"Users_pageBtn__2Wtq-"}},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dir__title:"Dialogs_dir__title__euGaD",dialogUsers:"Dialogs_dialogUsers__3n8lx",dialogMessages__wrapper:"Dialogs_dialogMessages__wrapper__3yGDs",dialogMessages:"Dialogs_dialogMessages__3ag9d",dialogFormWrapper:"Dialogs_dialogFormWrapper__16edN",dialogMessages__input:"Dialogs_dialogMessages__input__1ACmk",dialogMessages__btn:"Dialogs_dialogMessages__btn__QhydC"}},27:function(e,t,n){e.exports={header:"Header_header__1VCKf",header__inner:"Header_header__inner__26ef8",headerLogo:"Header_headerLogo__pHUY0",headerTitle:"Header_headerTitle__3Y2pE",loginBlock:"Header_loginBlock__6mma5",loginLogoutBtn:"Header_loginLogoutBtn__31tEv"}},290:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(70),i=n.n(r),o=(n(166),n(40)),c=n(41),u=n(47),l=n(45),d=n(61),_=n.n(d),p=n(12),j=n(14),b=n(10),g=n.n(b),m=n(11),f=n(94),h=n.n(f),O=n(74),x=n.n(O),v=n(0),P=function(e){return Object(v.jsxs)("div",{className:x.a.fOnline__inner,children:[Object(v.jsx)("div",{className:x.a.fOnline__name,children:e.name}),Object(v.jsx)("img",{className:x.a.fOnline__ava,src:e.ava,alt:""})]})},I=function(e){var t=e.friendsOnline.sidebar.map((function(e){return Object(v.jsx)(P,{name:e.name,ava:e.ava,id:e.id},e.id)}));return Object(v.jsxs)("div",{className:h.a.fOnline,children:[Object(v.jsx)("h5",{className:h.a.fOnline__title,children:"\u0414\u0440\u0443\u0437\u044c\u044f \u043e\u043d\u043b\u0430\u0439\u043d"}),t]})},N=Object(m.b)((function(e){return{friendsOnline:e.friendsOnline}}))(I),w=function(){return Object(v.jsxs)("nav",{className:g.a.navbar,children:[Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/dialogs",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/users",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/music",children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/photo",children:"\u0424\u043e\u0442\u043e"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/video",children:"\u0412\u0438\u0434\u0435\u043e"})}),Object(v.jsx)("div",{className:g.a.navbarItem,children:Object(v.jsx)(j.b,{className:g.a.navbarItem__link,activeClassName:g.a.active,to:"/settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(v.jsx)("div",{className:g.a.friendsOnline,children:Object(v.jsx)(N,{})})]})},S=function(){return Object(v.jsx)("div",{children:"News"})},y=function(){return Object(v.jsx)("div",{children:"Music"})},C=function(){return Object(v.jsx)("div",{children:"Photo"})},k=function(){return Object(v.jsx)("div",{children:"Video"})},E=function(){return Object(v.jsx)("div",{children:"Settings"})},U=n(5),A=n(27),T=n.n(A),M=function(e){return Object(v.jsxs)("header",{className:T.a.header,children:[Object(v.jsx)("a",{className:T.a.header__inner,href:"/profile",children:Object(v.jsx)("img",{className:T.a.headerLogo,src:"https://img.icons8.com/ios/452/owl.png",alt:"logo"})}),Object(v.jsx)("a",{className:T.a.header__inner,href:"/profile",children:Object(v.jsx)("h1",{className:T.a.headerTitle,children:"owlbook.com"})}),Object(v.jsx)("div",{className:T.a.loginBlock,children:e.isAuth?Object(v.jsxs)("div",{children:[e.login," ",Object(v.jsx)("button",{className:T.a.loginLogoutBtn,onClick:e.logout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(v.jsx)(j.b,{className:T.a.loginLogoutBtn,to:"/login",children:"\u0432\u043e\u0439\u0442\u0438"})})]})},D=n(13),F=n.n(D),L=n(20),z=n(131),B=n.n(z).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"411482a7-ac02-48c2-a201-383524308513"}}),W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return B.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},H=function(e){return B.delete("follow/".concat(e))},G=function(e){return B.post("follow/".concat(e))},R=function(e){return console.warn("Obsolete method. Please profileApi object"),J.getProfile(e)},J={getProfile:function(e){return B.get("profile/".concat(e))},getStatus:function(e){return B.get("profile/status/".concat(e))},updateStatus:function(e){return B.put("profile/status/",{status:e})}},K=function(){return B.get("auth/me")},Y=function(e,t,n){return B.post("auth/login",{email:e,password:t,rememberMe:n})},V=function(){return B.delete("auth/login")},X=n(38),q="auth/SET_USER_DATA",Z={userId:null,email:null,login:null,isAuth:!1},Q=function(e,t,n,s){return{type:q,payload:{userId:e,email:t,login:n,isAuth:s}}},$=function(){return function(){var e=Object(L.a)(F.a.mark((function e(t){var n,s,a,r,i;return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:0===(n=e.sent).data.resultCode&&(s=n.data.data,a=s.id,r=s.email,i=s.login,t(Q(a,r,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},te=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(v.jsx)(M,Object(U.a)({},this.props))}}]),n}(a.a.Component),ne=Object(m.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(L.a)(F.a.mark((function e(t){return F.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,V();case 2:0===e.sent.data.resultCode&&t(Q(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(te),se=n(128),ae=n(129),re=n(60),ie=n(32),oe=n.n(ie),ce=function(e){e.input,e.meta;var t=Object(re.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(v.jsxs)("div",{className:"".concat(oe.a.formControl," ").concat(n?oe.a.error:""),children:[Object(v.jsx)("div",{children:Object(v.jsx)("textarea",Object(U.a)(Object(U.a)({},e.input),t))}),n&&Object(v.jsx)("div",{className:oe.a.errorMessage,children:e.meta.error})]})},ue=function(e){e.input,e.meta;var t=Object(re.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(v.jsxs)("div",{className:"".concat(oe.a.formControl," ").concat(n?oe.a.error:""),children:[Object(v.jsx)("div",{children:Object(v.jsx)("textarea",Object(U.a)(Object(U.a)({className:oe.a.inputWindow},e.input),t))}),n&&Object(v.jsx)("div",{className:oe.a.errorMessage,children:e.meta.error})]})},le=n(75),de=n.n(le),_e=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"},pe=function(e){return function(t){if(t.length>e)return"\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},je=Object(ae.a)({form:"login"})((function(e){return Object(v.jsxs)("form",{onSubmit:e.handleSubmit,className:de.a.loginFormWrapper,children:[Object(v.jsx)("div",{children:Object(v.jsx)(se.a,{"aria-label":"Email",placeholder:"Email",type:"Email",name:"email",component:ue,validate:_e})}),Object(v.jsx)("div",{children:Object(v.jsx)(se.a,{"aria-label":"Password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",component:ue,validate:_e})}),Object(v.jsxs)("div",{children:[Object(v.jsx)(se.a,{type:"checkbox",name:"rememberMe",component:"input"})," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"]}),e.error&&Object(v.jsx)("div",{className:de.a.formSummaryError,children:e.error}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:de.a.loginBtn,children:"Login"})})]})})),be=Object(m.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var s=Object(L.a)(F.a.mark((function s(a){var r,i;return F.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Y(e,t,n);case 2:if(0!==(r=s.sent).data.resultCode){s.next=8;break}return s.next=6,a($());case 6:s.next=10;break;case 8:i=r.data.messages.length>0?r.data.messages[0]:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430",a(Object(X.a)("login",{_error:i}));case 10:case"end":return s.stop()}}),s)})));return function(e){return s.apply(this,arguments)}}()}})((function(e){return Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(v.jsx)(je,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),ge=n(9),me="https://cdn-icons-png.flaticon.com/512/12/12426.png",fe={sidebar:[{id:1,name:"\u041d\u0435\u044f\u0441\u044b\u0442\u044c",ava:me},{id:2,name:"\u0424\u0438\u043b\u0438\u043d",ava:me},{id:3,name:"\u041f\u043e\u043b\u044f\u0440\u043d\u0430\u044f \u0441\u043e\u0432\u0430",ava:me}]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fe;return e},Oe=n(46),xe="SEND-MESSAGE",ve={dialogs:[{id:1,name:"Tom",friendsAvatar:"https://images.pexels.com/photos/3622695/pexels-photo-3622695.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"},{id:2,name:"Alex",friendsAvatar:"https://images.pexels.com/photos/3732453/pexels-photo-3732453.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"},{id:3,name:"Jane",friendsAvatar:"https://images.pexels.com/photos/6474755/pexels-photo-6474755.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500"}],messages:[{id:1,message:"Hello"},{id:2,message:"Hi"},{id:3,message:"Bye"}]},Pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case xe:return Object(U.a)(Object(U.a)({},e),{},{messages:[{id:6,message:t.newMessageBody}].concat(Object(Oe.a)(e.messages))})}return e},Ie="ADD-POST",Ne="DELETE_POST",we="SET_USER_PROFILE",Se="SET_USER_STATUS",ye="SET_UPDATE_STATUS",Ce={postData:[{message:"Hi, how are you?",id:1,likeCount:12},{message:"What do you think about JS?",id:2,likeCount:22},{message:"I learn not only JS but and TS!",id:3,likeCount:42},{message:"Oh, it's cool",id:4,likeCount:23}],profile:null,status:""},ke=function(e){return{type:Se,status:e}},Ee=function(e){return{type:"SET_UPDATE_STATUS",status:e}},Ue=function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){var s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,R(e);case 2:return s=t.sent,n((a=s.data,{type:we,profile:a})),t.next=6,n(Ae(e));case 6:case"end":return t.stop()}var a}),t)})));return function(e){return t.apply(this,arguments)}}()},Ae=function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){var s;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.getStatus(e);case 2:s=t.sent,n(ke(s.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ie:var n={id:5,message:t.newPostText,likeCount:0};return Object(U.a)(Object(U.a)({},e),{},{postData:[n].concat(Object(Oe.a)(e.postData))});case Ne:return Object(U.a)(Object(U.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});case Se:return Object(U.a)(Object(U.a)({},e),{},{status:t.status});case we:return Object(U.a)(Object(U.a)({},e),{},{profile:t.profile});case ye:return Object(U.a)(Object(U.a)({},e),{},{status:t.status})}return e},Me="FOLLOW",De="UNFOLLOW",Fe="SET_USERS",Le="SET_CURRENT_PAGE",ze="SET_TOTAL_USERS_COUNT",Be="ON_PAGE_CHANGED",We="TOGGLE_IS_FETCHING",He="TOGGLE_IS_FOLLOWING_PROGRESS",Ge={users:[],pageSize:20,totalUsersCount:0,currentPage:1,pageNumber:1,isFetching:!0,followingInProgress:[],portionSize:10},Re=function(e){return{type:Me,userId:e}},Je=function(e){return{type:De,userId:e}},Ke=function(e){return{type:Le,currentPage:e}},Ye=function(e){return{type:We,isFetching:e}},Ve=function(e,t){return{type:He,isFetching:e,userId:t}},Xe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ge,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Me:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!0}):e}))});case De:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!1}):e}))});case Fe:return Object(U.a)(Object(U.a)({},e),{},{users:t.users});case Le:return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.currentPage});case ze:return Object(U.a)(Object(U.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Be:return Object(U.a)(Object(U.a)({},e),{},{pageNumber:t.pageNumber});case We:return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.isFetching});case He:return Object(U.a)(Object(U.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(Oe.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},qe=n(133),Ze=n(130),Qe="SUCCESS_INITIALIZED",$e={initialized:!1},et=function(){return{type:Qe}},tt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qe:return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});default:return e}},nt=Object(ge.c)({profilePage:Te,dialogsPage:Pe,friendsOnline:he,usersPage:Xe,auth:ee,form:Ze.a,app:tt}),st=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||ge.d,at=Object(ge.e)(nt,st(Object(ge.a)(qe.a))),rt="https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=790b7611ea276bbbbaa21051bf651344dc6397a74078b299&rid=giphy.gif&ct=g",it=function(){return Object(v.jsx)("div",{style:{background:"white"},children:Object(v.jsx)("img",{src:rt,alt:rt})})},ot=n(26),ct=n.n(ot),ut=n(49),lt=n.n(ut),dt=function(e){return Object(v.jsx)("div",{className:lt.a.dialogs__item,children:Object(v.jsxs)(j.b,{className:lt.a.dialogs__itemLink,to:"/dialogs/"+e.dialogs.id,activeClassName:lt.a.dialogs__itemLink_active,children:[Object(v.jsx)("img",{className:lt.a.dialogs__itemLink_img,src:e.dialogs.friendsAvatar,alt:""}),Object(v.jsx)("div",{className:lt.a.dialogs__item_name,children:e.dialogs.name})]})})},_t=n(134),pt=n.n(_t),jt=function(e){return Object(v.jsx)("div",{children:Object(v.jsx)("div",{className:pt.a.dialogsMessages__item,children:e.messages.message},e.messages.id)})},bt=pe(50),gt=Object(ae.a)({form:"dialogAddMessageForm"})((function(e){return Object(v.jsxs)("form",{className:ct.a.dialogFormWrapper,onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(se.a,{className:ct.a.dialogMessages__input,component:ce,name:"newMessageBody",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[_e,bt]})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:ct.a.dialogMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),mt=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(v.jsx)(dt,{dialogs:e},e.id)})),s=t.messages.map((function(e){return Object(v.jsx)(jt,{messages:e},e.id)}));return Object(v.jsxs)("div",{className:ct.a.dialogs,children:[Object(v.jsx)("div",{className:ct.a.dialogUsers,children:n}),Object(v.jsxs)("div",{className:ct.a.dialogMessages__wrapper,children:[Object(v.jsx)("h4",{className:ct.a.dir__title,children:" Dialogs "}),Object(v.jsx)("div",{className:ct.a.dialogMessages,children:s}),Object(v.jsx)(gt,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})},ft=function(e){return{isAuth:e.auth.isAuth}};function ht(e){return Object(m.b)(ft)((function(t){t.isAuth;var n=Object(re.a)(t,["isAuth"]);return Object(v.jsx)(e,Object(U.a)({},n))}))}var Ot=Object(ge.d)(Object(m.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:xe,newMessageBody:e}}(t))}}})),ht)(mt),xt=n(48),vt=n.n(xt),Pt=n(59),It=function(e){var t=Object(s.useState)(!1),n=Object(Pt.a)(t,2),a=n[0],r=n[1],i=Object(s.useState)(e.status),o=Object(Pt.a)(i,2),c=o[0],u=o[1];Object(s.useEffect)((function(){u(e.status)}),[e.status]);return Object(v.jsxs)("div",{className:vt.a.statusText,children:[!a&&Object(v.jsx)("span",{onDoubleClick:function(){r(!0)},children:c||"no status"}),a&&Object(v.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,value:c})]})},Nt=function(e){return e.profile?Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)("img",{className:vt.a.profileImg,src:"http://green-forest36.ru/wp-content/uploads/2020/04/2-1.jpg",alt:"owl"})}),Object(v.jsxs)("div",{className:vt.a.avatar,children:[e.profile.photos.large&&Object(v.jsx)("img",{className:vt.a.avatarImg,src:e.profile.photos.large,alt:"avatar"}),Object(v.jsx)(It,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(v.jsx)(it,{})},wt=n(135),St=n.n(wt),yt=n(36),Ct=n.n(yt),kt=function(e){return Object(v.jsxs)("div",{className:Ct.a.postsItem,children:[Object(v.jsxs)("div",{className:Ct.a.postsItem__inner,children:[Object(v.jsx)("img",{className:Ct.a.postsItem__avatar,src:"https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:"avatar_to_all"}),e.post.message]}),Object(v.jsxs)("div",{className:Ct.a.postsItem__activity,children:[Object(v.jsxs)("span",{className:Ct.a.postsItem__like,children:[e.post.likeCount," \u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"]}),Object(v.jsx)("span",{className:Ct.a.postsItem__send,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})]})]})},Et=n(77),Ut=n.n(Et),At=pe(50),Tt=Object(ae.a)({form:"profileAddPostForm"})((function(e){return Object(v.jsxs)("form",{className:Ut.a.profileFormWrapper,onSubmit:e.handleSubmit,children:[Object(v.jsx)("div",{children:Object(v.jsx)(se.a,{className:Ut.a.profileMessages__input,component:ce,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[_e,At]})}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:Ut.a.profileMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),Mt=a.a.memo((function(e){var t=e.profilePage.postData.map((function(e){return Object(v.jsx)(kt,{post:e},e.id)}));return Object(v.jsxs)("div",{children:[Object(v.jsx)("div",{children:Object(v.jsx)(Tt,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=""}})}),Object(v.jsx)("div",{className:St.a.posts,children:t})]})})),Dt=Object(m.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:Ie,newPostText:e}}(t))}}}))(Mt),Ft=function(e){var t=e.profilePage,n=e.updateStatus;return Object(v.jsxs)("div",{children:[Object(v.jsx)(Nt,{profile:t.profile,status:t.status,updateStatus:n}),Object(v.jsx)(Dt,{profilePage:t})]})},Lt=Object(ge.d)(Object(m.b)((function(e){return{profilePage:e.profilePage,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:Ue,updateStatus:function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,J.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(Ee(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),p.f)((function(e){var t=Object(m.c)();return Object(s.useEffect)((function(){var n=+e.match.params.userId;n||(n=e.authorizedUserId||0),t(Ue(n)),t(ke(n))}),[]),Object(v.jsx)(Ft,{getUserProfile:e.getUserProfile,updateStatus:e.updateStatus,profilePage:e.profilePage})})),zt=n(23),Bt=n.n(zt),Wt=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);var r=Math.ceil(t/e.portionSize),i=Object(s.useState)(1),o=Object(Pt.a)(i,2),c=o[0],u=o[1],l=(c-1)*e.portionSize+1,d=c*e.portionSize;return Object(v.jsxs)("div",{className:Bt.a.usersPagination,children:[c>1&&Object(v.jsx)("button",{className:Bt.a.pageBtn,onClick:function(){u(c-1)},children:" \u2190 "}),n.filter((function(e){return e>=l&&e<=d})).map((function(t){return Object(v.jsx)("span",{className:e.currentPage===t?Bt.a.selectedPage:Bt.a.pages,onClick:function(){return e.onPageChanged(t)},children:t},t)})),r>c&&Object(v.jsx)("button",{className:Bt.a.pageBtn,onClick:function(){u(c+1)},children:" \u2192 "})]})},Ht=function(e){return Object(v.jsxs)("div",{className:Bt.a.usersItems,children:[Object(v.jsx)(j.b,{to:"/profile/"+e.user.id,children:Object(v.jsx)("img",{className:Bt.a.usersPhoto,alt:"user_photo",src:null!==e.user.photos.small?e.user.photos.small:"https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260"})}),Object(v.jsx)("div",{children:e.user.followed?Object(v.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(v.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.follow(e.user.id)},children:"Follow"})}),Object(v.jsxs)("span",{children:[Object(v.jsxs)("span",{children:[Object(v.jsx)("div",{children:e.user.name}),Object(v.jsx)("div",{children:e.user.status})]}),Object(v.jsxs)("span",{children:[Object(v.jsx)("div",{children:"props.location.country"}),Object(v.jsx)("div",{children:"props.location.city"})]})]})]})},Gt=function(e){return Object(v.jsxs)("div",{className:Bt.a.usersInner,children:[Object(v.jsx)(Wt,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:e.portionSize}),e.usersPage.map((function(t){return Object(v.jsx)(Ht,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},t.id)}))]})},Rt=n(136),Jt=Object(Rt.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),Kt=function(e){return e.usersPage.pageSize},Yt=function(e){return e.usersPage.totalUsersCount},Vt=function(e){return e.usersPage.currentPage},Xt=function(e){return e.usersPage.isFetching},qt=function(e){return e.usersPage.followingInProgress},Zt=function(e){return e.usersPage.portionSize},Qt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(v.jsxs)(v.Fragment,{children:[this.props.isFetching?Object(v.jsx)(it,{}):null,Object(v.jsx)(Gt,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,usersPage:this.props.usersPage,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize})]})}}]),n}(a.a.Component),$t=Object(ge.d)(ht,Object(m.b)((function(e){return{usersPage:Jt(e),pageSize:Kt(e),totalUsersCount:Yt(e),currentPage:Vt(e),isFetching:Xt(e),followingInProgress:qt(e),portionSize:Zt(e)}}),{follow:function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ve(!0,e)),t.next=3,G(e);case 3:0===t.sent.data.resultCode&&n(Re(e)),n(Ve(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(L.a)(F.a.mark((function t(n){return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(Ve(!0,e)),t.next=3,H(e);case 3:0===t.sent.data.resultCode&&n(Je(e)),n(Ve(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:Ke,toggleFollowingProgress:Ve,getUsers:function(e,t){return function(){var n=Object(L.a)(F.a.mark((function n(s){var a;return F.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return s(Ye(!0)),s(Ke(e)),n.next=4,W(e,t);case 4:a=n.sent,s(Ye(!1)),s((i=a.items,{type:Fe,users:i})),s((r=a.totalCount,{type:ze,totalUsersCount:r}));case 8:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()},onPageChanged:function(e){return{type:Be,pageNumber:e}},toggleIsFetching:Ye}))(Qt),en=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(v.jsx)("div",{className:_.a.container,children:Object(v.jsxs)("div",{className:_.a.app__wrapper,children:[Object(v.jsx)(ne,{}),Object(v.jsx)(w,{}),Object(v.jsx)("div",{className:_.a.content__wrapper,children:Object(v.jsx)("div",{className:_.a.content__inner,children:Object(v.jsx)(s.Suspense,{fallback:Object(v.jsx)(it,{}),children:Object(v.jsxs)(p.c,{children:[Object(v.jsx)(p.a,{path:"/profile/:userId?",render:function(){return Object(v.jsx)(Lt,{})}}),Object(v.jsx)(p.a,{path:"/dialogs",render:function(){return Object(v.jsx)(Ot,{})}}),Object(v.jsx)(p.a,{path:"/users",render:function(){return Object(v.jsx)($t,{})}}),Object(v.jsx)(p.a,{path:"/news",render:function(){return Object(v.jsx)(S,{})}}),Object(v.jsx)(p.a,{path:"/music",render:function(){return Object(v.jsx)(y,{})}}),Object(v.jsx)(p.a,{path:"/photo",render:function(){return Object(v.jsx)(C,{})}}),Object(v.jsx)(p.a,{path:"/video",render:function(){return Object(v.jsx)(k,{})}}),Object(v.jsx)(p.a,{path:"/settings",render:function(){return Object(v.jsx)(E,{})}}),Object(v.jsx)(p.a,{path:"/login",render:function(){return Object(v.jsx)(be,{})}})]})})})})]})}):Object(v.jsx)(it,{})}}]),n}(a.a.Component),tn=Object(ge.d)(p.f,Object(m.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e($());Promise.all([t]).then((function(){e(et())}))}}}))(en),nn=function(){return Object(v.jsx)(j.a,{children:Object(v.jsx)(m.a,{store:at,children:Object(v.jsx)(tn,{})})})};i.a.render(Object(v.jsx)(nn,{}),document.getElementById("root"))},32:function(e,t,n){e.exports={formControl:"FormControls_formControl__zKx4R",error:"FormControls_error__frz7K",inputWindow:"FormControls_inputWindow__2O6cV",errorMessage:"FormControls_errorMessage__3coxl"}},36:function(e,t,n){e.exports={postsItem:"Post_postsItem__1DHL5",postsItem__inner:"Post_postsItem__inner__1-7QK",postsItem__avatar:"Post_postsItem__avatar__3N6Bd",postsItem__messages:"Post_postsItem__messages__1V62h",postsItem__activity:"Post_postsItem__activity__1G8T2",postsItem__like:"Post_postsItem__like__3sh5I",postsItem__send:"Post_postsItem__send__QVbcU"}},48:function(e,t,n){e.exports={profileImg:"ProfileInfo_profileImg__3mXT7",avatar:"ProfileInfo_avatar__3xuFq",avatarImg:"ProfileInfo_avatarImg__2izmI",myPosts:"ProfileInfo_myPosts__1no8m",myPosts__input:"ProfileInfo_myPosts__input__3tJm9",myPosts__button:"ProfileInfo_myPosts__button__19Gsk",statusText:"ProfileInfo_statusText__1KWIZ"}},49:function(e,t,n){e.exports={dialogs__item:"DialogItem_dialogs__item__1Cdio",dialogs__itemLink_img:"DialogItem_dialogs__itemLink_img__cYh4p",dialogs__itemLink:"DialogItem_dialogs__itemLink__tlNq4",dialogs__itemLink_active:"DialogItem_dialogs__itemLink_active__2OIAv",dialogs__item_name:"DialogItem_dialogs__item_name__3uvlk"}},61:function(e,t,n){e.exports={container:"App_container__16xz_",app__wrapper:"App_app__wrapper__1z8PO",content__wrapper:"App_content__wrapper__32aMC",content__inner:"App_content__inner__37WXs"}},74:function(e,t,n){e.exports={fOnline__inner:"FriendsAvatar_fOnline__inner__3mbGn",fOnline__name:"FriendsAvatar_fOnline__name__2sdlO",fOnline__ava:"FriendsAvatar_fOnline__ava__22q3P"}},75:function(e,t,n){e.exports={loginFormWrapper:"Login_loginFormWrapper__20PK_",loginBtn:"Login_loginBtn__JiEkY",formSummaryError:"Login_formSummaryError__3cy0x"}},77:function(e,t,n){e.exports={profileFormWrapper:"Profile_profileFormWrapper__1TJsL",profileMessages__input:"Profile_profileMessages__input__1M3bu",profileMessages__btn:"Profile_profileMessages__btn__1SIl3"}},94:function(e,t,n){e.exports={fOnline:"FriendsOnline_fOnline__3EvEn",fOnline__title:"FriendsOnline_fOnline__title__3WIS0"}}},[[290,1,2]]]);
//# sourceMappingURL=main.7d6138db.chunk.js.map