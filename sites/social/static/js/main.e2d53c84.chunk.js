(this.webpackJsonpsocial_ts=this.webpackJsonpsocial_ts||[]).push([[0],{10:function(e,t,n){e.exports={navbar:"Navbar_navbar__CLYHD",navbarItem:"Navbar_navbarItem__1xOtf",navbarItem__link:"Navbar_navbarItem__link__2g1i6",active:"Navbar_active__3mbhk",friendsOnline:"Navbar_friendsOnline__2Jno3"}},133:function(e,t,n){e.exports={dialogsMessages__item:"Message_dialogsMessages__item__fepUr"}},135:function(e,t,n){e.exports={posts:"MyPosts_posts__3tZ1c",myPosts__input_inner:"MyPosts_myPosts__input_inner__3ju60",myPosts__input:"MyPosts_myPosts__input__3c6Pi",myPosts__button:"MyPosts_myPosts__button__2y1hV"}},166:function(e,t,n){},23:function(e,t,n){e.exports={usersInner:"Users_usersInner__2v4Ca",usersWrapper:"Users_usersWrapper__2gv8N",users__leftSide:"Users_users__leftSide__2K0Yk",usersPhoto:"Users_usersPhoto__3osYH",usersBtn:"Users_usersBtn__1iOAv",users__rightSide:"Users_users__rightSide__2yxXk",pagination:"Users_pagination__2Njh9",usersPagination:"Users_usersPagination__1qbrf",pages:"Users_pages__2ZPtK",selectedPage:"Users_selectedPage__J63sh",usersItems:"Users_usersItems__3D9Hj",pageBtnDisplayNone:"Users_pageBtnDisplayNone__2TZjX",pageBtn:"Users_pageBtn__2Wtq-"}},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__2xRSA",dir__title:"Dialogs_dir__title__euGaD",dialogUsers:"Dialogs_dialogUsers__3n8lx",dialogMessages__wrapper:"Dialogs_dialogMessages__wrapper__3yGDs",dialogMessages:"Dialogs_dialogMessages__3ag9d",dialogFormWrapper:"Dialogs_dialogFormWrapper__16edN",dialogMessages__input:"Dialogs_dialogMessages__input__1ACmk",dialogMessages__btn:"Dialogs_dialogMessages__btn__QhydC"}},27:function(e,t,n){e.exports={header:"Header_header__1VCKf",header__inner:"Header_header__inner__26ef8",headerLogo:"Header_headerLogo__pHUY0",headerTitle:"Header_headerTitle__3Y2pE",loginBlock:"Header_loginBlock__6mma5",loginLogoutBtn:"Header_loginLogoutBtn__31tEv"}},290:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),r=n(70),i=n.n(r),o=(n(166),n(40)),c=n(41),u=n(47),l=n(45),d=n(61),_=n.n(d),j=n(12),p=n(14),b=n(10),m=n.n(b),f=n(11),g=n(94),O=n.n(g),h=n(74),v=n.n(h),x=n(0),P=function(e){return Object(x.jsxs)("div",{className:v.a.fOnline__inner,children:[Object(x.jsx)("div",{className:v.a.fOnline__name,children:e.name}),Object(x.jsx)("img",{className:v.a.fOnline__ava,src:e.ava,alt:""})]})},N=function(e){var t=e.friendsOnline.sidebar.map((function(e){return Object(x.jsx)(P,{name:e.name,ava:e.ava,id:e.id},e.id)}));return Object(x.jsxs)("div",{className:O.a.fOnline,children:[Object(x.jsx)("h5",{className:O.a.fOnline__title,children:"\u0414\u0440\u0443\u0437\u044c\u044f \u043e\u043d\u043b\u0430\u0439\u043d"}),t]})},I=Object(f.b)((function(e){return{friendsOnline:e.friendsOnline}}))(N),w=function(){return Object(x.jsxs)("nav",{className:m.a.navbar,children:[Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"https://mitpal.ru/profile",children:"\u041f\u0440\u043e\u0444\u0438\u043b\u044c"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"https://mitpal.ru/dialogs",children:"\u0421\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u044f"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"https://mitpal.ru/users",children:"\u0414\u0440\u0443\u0437\u044c\u044f"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/news",children:"\u041d\u043e\u0432\u043e\u0441\u0442\u0438"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/music",children:"\u041c\u0443\u0437\u044b\u043a\u0430"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/photo",children:"\u0424\u043e\u0442\u043e"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/video",children:"\u0412\u0438\u0434\u0435\u043e"})}),Object(x.jsx)("div",{className:m.a.navbarItem,children:Object(x.jsx)(p.b,{className:m.a.navbarItem__link,activeClassName:m.a.active,to:"/settings",children:"\u041d\u0430\u0441\u0442\u0440\u043e\u0439\u043a\u0438"})}),Object(x.jsx)("div",{className:m.a.friendsOnline,children:Object(x.jsx)(I,{})})]})},S=n(13),y=n.n(S),C=n(20),k=n(46),U=n(5),E=n(131),A=n.n(E).a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"411482a7-ac02-48c2-a201-383524308513"}}),T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;return A.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},M=function(e){return A.delete("follow/".concat(e))},D=function(e){return A.post("follow/".concat(e))},F=function(e){return console.warn("Obsolete method. Please profileApi object"),L.getProfile(e)},L={getProfile:function(e){return A.get("profile/".concat(e))},getStatus:function(e){return A.get("profile/status/".concat(e))},updateStatus:function(e){return A.put("profile/status/",{status:e})}},z=function(){return A.get("auth/me")},B=function(e,t,n){return A.post("auth/login",{email:e,password:t,rememberMe:n})},W=function(){return A.delete("auth/login")},G="FOLLOW",H="UNFOLLOW",R="SET_USERS",J="SET_CURRENT_PAGE",K="SET_TOTAL_USERS_COUNT",Y="ON_PAGE_CHANGED",V="TOGGLE_IS_FETCHING",X="TOGGLE_IS_FOLLOWING_PROGRESS",q={users:[],pageSize:20,totalUsersCount:0,currentPage:1,pageNumber:1,isFetching:!0,followingInProgress:[],portionSize:10},Z=function(e){return{type:G,userId:e}},Q=function(e){return{type:H,userId:e}},$=function(e){return{type:J,currentPage:e}},ee=function(e){return{type:V,isFetching:e}},te=function(e,t){return{type:X,isFetching:e,userId:t}},ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case G:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!0}):e}))});case H:return Object(U.a)(Object(U.a)({},e),{},{users:e.users.map((function(e){return e.id===t.userId?Object(U.a)(Object(U.a)({},e),{},{followed:!1}):e}))});case R:return Object(U.a)(Object(U.a)({},e),{},{users:t.users});case J:return Object(U.a)(Object(U.a)({},e),{},{currentPage:t.currentPage});case K:return Object(U.a)(Object(U.a)({},e),{},{totalUsersCount:t.totalUsersCount});case Y:return Object(U.a)(Object(U.a)({},e),{},{pageNumber:t.pageNumber});case V:return Object(U.a)(Object(U.a)({},e),{},{isFetching:t.isFetching});case X:return Object(U.a)(Object(U.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(k.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},ae=n(23),se=n.n(ae),re=n(59),ie=function(e){for(var t=Math.ceil(e.totalItemsCount/e.pageSize),n=[],s=1;s<=t;s++)n.push(s);var r=Math.ceil(t/e.portionSize),i=Object(a.useState)(1),o=Object(re.a)(i,2),c=o[0],u=o[1],l=(c-1)*e.portionSize+1,d=c*e.portionSize;return Object(x.jsxs)("div",{className:se.a.usersPagination,children:[c>1&&Object(x.jsx)("button",{className:se.a.pageBtn,onClick:function(){u(c-1)},children:" \u2190 "}),n.filter((function(e){return e>=l&&e<=d})).map((function(t){return Object(x.jsx)("span",{className:e.currentPage===t?se.a.selectedPage:se.a.pages,onClick:function(){return e.onPageChanged(t)},children:t},t)})),r>c&&Object(x.jsx)("button",{className:se.a.pageBtn,onClick:function(){u(c+1)},children:" \u2192 "})]})},oe=n.p+"static/media/avatar_to_all.c7ad2238.png",ce=function(e){return Object(x.jsxs)("div",{className:se.a.usersItems,children:[Object(x.jsx)(p.b,{to:"/profile/"+e.user.id,children:Object(x.jsx)("img",{className:se.a.usersPhoto,alt:"user_photo",src:null!==e.user.photos.small?e.user.photos.small:oe})}),Object(x.jsx)("div",{children:e.user.followed?Object(x.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(x.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.follow(e.user.id)},children:"Follow"})}),Object(x.jsxs)("span",{children:[Object(x.jsxs)("span",{children:[Object(x.jsx)("div",{children:e.user.name}),Object(x.jsx)("div",{children:e.user.status})]}),Object(x.jsxs)("span",{children:[Object(x.jsx)("div",{children:"props.location.country"}),Object(x.jsx)("div",{children:"props.location.city"})]})]})]})},ue=function(e){return Object(x.jsxs)("div",{className:se.a.usersInner,children:[Object(x.jsx)(ie,{totalItemsCount:e.totalUsersCount,pageSize:e.pageSize,currentPage:e.currentPage,onPageChanged:e.onPageChanged,portionSize:e.portionSize}),e.usersPage.map((function(t){return Object(x.jsx)(ce,{user:t,followingInProgress:e.followingInProgress,follow:e.follow,unfollow:e.unfollow},t.id)}))]})},le=n.p+"static/media/spinner.b767aab4.svg",de=function(){return Object(x.jsx)("div",{style:{background:"white"},children:Object(x.jsx)("img",{src:le,alt:le})})},_e=n(60),je=function(e){return{isAuth:e.auth.isAuth}};function pe(e){return Object(f.b)(je)((function(t){t.isAuth;var n=Object(_e.a)(t,["isAuth"]);return Object(x.jsx)(e,Object(U.a)({},n))}))}var be=n(9),me=n(132),fe=Object(me.a)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),ge=function(e){return e.usersPage.pageSize},Oe=function(e){return e.usersPage.totalUsersCount},he=function(e){return e.usersPage.currentPage},ve=function(e){return e.usersPage.isFetching},xe=function(e){return e.usersPage.followingInProgress},Pe=function(e){return e.usersPage.portionSize},Ne=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),r=0;r<a;r++)s[r]=arguments[r];return(e=t.call.apply(t,[this].concat(s))).onPageChanged=function(t){e.props.getUsers(t,e.props.pageSize)},e}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Object(x.jsxs)(x.Fragment,{children:[this.props.isFetching?Object(x.jsx)(de,{}):null,Object(x.jsx)(ue,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,usersPage:this.props.usersPage,follow:this.props.follow,unfollow:this.props.unfollow,isFetching:this.props.isFetching,followingInProgress:this.props.followingInProgress,portionSize:this.props.portionSize})]})}}]),n}(s.a.Component),Ie=Object(be.d)(pe,Object(f.b)((function(e){return{usersPage:fe(e),pageSize:ge(e),totalUsersCount:Oe(e),currentPage:he(e),isFetching:ve(e),followingInProgress:xe(e),portionSize:Pe(e)}}),{follow:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(te(!0,e)),t.next=3,D(e);case 3:0===t.sent.data.resultCode&&n(Z(e)),n(te(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},unfollow:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(te(!0,e)),t.next=3,M(e);case 3:0===t.sent.data.resultCode&&n(Q(e)),n(te(!1,e));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},setCurrentPage:$,toggleFollowingProgress:te,getUsers:function(e,t){return function(){var n=Object(C.a)(y.a.mark((function n(a){var s;return y.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return a(ee(!0)),a($(e)),n.next=4,T(e,t);case 4:s=n.sent,a(ee(!1)),a((i=s.items,{type:R,users:i})),a((r=s.totalCount,{type:K,totalUsersCount:r}));case 8:case"end":return n.stop()}var r,i}),n)})));return function(e){return n.apply(this,arguments)}}()},onPageChanged:function(e){return{type:Y,pageNumber:e}},toggleIsFetching:ee}))(Ne),we=function(){return Object(x.jsx)("div",{children:"News"})},Se=function(){return Object(x.jsx)("div",{children:"Music"})},ye=function(){return Object(x.jsx)("div",{children:"Photo"})},Ce=function(){return Object(x.jsx)("div",{children:"Video"})},ke=function(){return Object(x.jsx)("div",{children:"Settings"})},Ue=n.p+"static/media/filin.2d450a04.jpeg",Ee=n.p+"static/media/sipuha.07d534bb.jpeg",Ae=n.p+"static/media/rybniy-filin.a65accbe.jpeg",Te="SEND-MESSAGE",Me={dialogs:[{id:1,name:"Tom",friendsAvatar:Ue},{id:2,name:"Alex",friendsAvatar:Ee},{id:3,name:"Jane",friendsAvatar:Ae}],messages:[{id:1,message:"Hello"},{id:2,message:"Hi"},{id:3,message:"Bye"}]},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Te:return Object(U.a)(Object(U.a)({},e),{},{messages:[{id:6,message:t.newMessageBody}].concat(Object(k.a)(e.messages))})}return e},Fe=n(26),Le=n.n(Fe),ze=n(49),Be=n.n(ze),We=function(e){return Object(x.jsx)("div",{className:Be.a.dialogs__item,children:Object(x.jsxs)(p.b,{className:Be.a.dialogs__itemLink,to:"/dialogs/"+e.dialogs.id,activeClassName:Be.a.dialogs__itemLink_active,children:[Object(x.jsx)("img",{className:Be.a.dialogs__itemLink_img,src:e.dialogs.friendsAvatar,alt:""}),Object(x.jsx)("div",{className:Be.a.dialogs__item_name,children:e.dialogs.name})]})})},Ge=n(133),He=n.n(Ge),Re=function(e){return Object(x.jsx)("div",{children:Object(x.jsx)("div",{className:He.a.dialogsMessages__item,children:e.messages.message},e.messages.id)})},Je=n(128),Ke=n(129),Ye=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"},Ve=function(e){return function(t){if(t.length>e)return"\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}},Xe=n(32),qe=n.n(Xe),Ze=function(e){e.input,e.meta;var t=Object(_e.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(x.jsxs)("div",{className:"".concat(qe.a.formControl," ").concat(n?qe.a.error:""),children:[Object(x.jsx)("div",{children:Object(x.jsx)("textarea",Object(U.a)(Object(U.a)({},e.input),t))}),n&&Object(x.jsx)("div",{className:qe.a.errorMessage,children:e.meta.error})]})},Qe=function(e){e.input,e.meta;var t=Object(_e.a)(e,["input","meta"]),n=e.meta.touched&&e.meta.error;return Object(x.jsxs)("div",{className:"".concat(qe.a.formControl," ").concat(n?qe.a.error:""),children:[Object(x.jsx)("div",{children:Object(x.jsx)("textarea",Object(U.a)(Object(U.a)({className:qe.a.inputWindow},e.input),t))}),n&&Object(x.jsx)("div",{className:qe.a.errorMessage,children:e.meta.error})]})},$e=Ve(50),et=Object(Ke.a)({form:"dialogAddMessageForm"})((function(e){return Object(x.jsxs)("form",{className:Le.a.dialogFormWrapper,onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(Je.a,{className:Le.a.dialogMessages__input,component:Ze,name:"newMessageBody",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[Ye,$e]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:Le.a.dialogMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),tt=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Object(x.jsx)(We,{dialogs:e},e.id)})),a=t.messages.map((function(e){return Object(x.jsx)(Re,{messages:e},e.id)}));return Object(x.jsxs)("div",{className:Le.a.dialogs,children:[Object(x.jsx)("div",{className:Le.a.dialogUsers,children:n}),Object(x.jsxs)("div",{className:Le.a.dialogMessages__wrapper,children:[Object(x.jsx)("h4",{className:Le.a.dir__title,children:" Dialogs "}),Object(x.jsx)("div",{className:Le.a.dialogMessages,children:a}),Object(x.jsx)(et,{onSubmit:function(t){e.sendMessage(t.newMessageBody)}})]})]})},nt=Object(be.d)(Object(f.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{sendMessage:function(t){e(function(e){return{type:Te,newMessageBody:e}}(t))}}})),pe)(tt),at=n(48),st=n.n(at),rt=function(e){var t=Object(a.useState)(!1),n=Object(re.a)(t,2),s=n[0],r=n[1],i=Object(a.useState)(e.status),o=Object(re.a)(i,2),c=o[0],u=o[1];Object(a.useEffect)((function(){u(e.status)}),[e.status]);return Object(x.jsxs)("div",{className:st.a.statusText,children:[!s&&Object(x.jsx)("span",{onDoubleClick:function(){r(!0)},children:c||"no status"}),s&&Object(x.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(c)},autoFocus:!0,value:c})]})},it=n.p+"static/media/owl_eyes.3394fc79.jpeg",ot=function(e){return e.profile?Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)("img",{className:st.a.profileImg,src:it,alt:"owl"})}),Object(x.jsxs)("div",{className:st.a.avatar,children:[Object(x.jsx)("img",{className:st.a.avatarImg,src:e.profile.photos.large,alt:"avatar"}),Object(x.jsx)(rt,{status:e.status,updateStatus:e.updateStatus})]})]}):Object(x.jsx)(de,{})},ct="ADD-POST",ut="DELETE_POST",lt="SET_USER_PROFILE",dt="SET_USER_STATUS",_t="SET_UPDATE_STATUS",jt={postData:[{message:"Hi, how are you?",id:1,likeCount:12},{message:"What do you think about JS?",id:2,likeCount:22},{message:"I learn not only JS but and TS!",id:3,likeCount:42},{message:"Oh, it's cool",id:4,likeCount:23}],profile:null,status:""},pt=function(e){return{type:dt,status:e}},bt=function(e){return{type:"SET_UPDATE_STATUS",status:e}},mt=function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,F(e);case 2:return a=t.sent,n((s=a.data,{type:lt,profile:s})),t.next=6,n(ft(e));case 6:case"end":return t.stop()}var s}),t)})));return function(e){return t.apply(this,arguments)}}()},ft=function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){var a;return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.getStatus(e);case 2:a=t.sent,n(pt(a.data));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},gt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ct:var n={id:5,message:t.newPostText,likeCount:0};return Object(U.a)(Object(U.a)({},e),{},{postData:[n].concat(Object(k.a)(e.postData))});case ut:return Object(U.a)(Object(U.a)({},e),{},{postData:e.postData.filter((function(e){return e.id!==t.postId}))});case dt:return Object(U.a)(Object(U.a)({},e),{},{status:t.status});case lt:return Object(U.a)(Object(U.a)({},e),{},{profile:t.profile});case _t:return Object(U.a)(Object(U.a)({},e),{},{status:t.status})}return e},Ot=n(135),ht=n.n(Ot),vt=n(36),xt=n.n(vt),Pt=n.p+"static/media/avatar_to_all.c7ad2238.png",Nt=function(e){return Object(x.jsxs)("div",{className:xt.a.postsItem,children:[Object(x.jsxs)("div",{className:xt.a.postsItem__inner,children:[Object(x.jsx)("img",{className:xt.a.postsItem__avatar,src:Pt,alt:"avatar_to_all"}),e.post.message]}),Object(x.jsxs)("div",{className:xt.a.postsItem__activity,children:[Object(x.jsxs)("span",{className:xt.a.postsItem__like,children:[e.post.likeCount," \u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"]}),Object(x.jsx)("span",{className:xt.a.postsItem__send,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})]})]})},It=n(76),wt=n.n(It),St=Ve(50),yt=Object(Ke.a)({form:"profileAddPostForm"})((function(e){return Object(x.jsxs)("form",{className:wt.a.profileFormWrapper,onSubmit:e.handleSubmit,children:[Object(x.jsx)("div",{children:Object(x.jsx)(Je.a,{className:wt.a.profileMessages__input,component:Ze,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[Ye,St]})}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:wt.a.profileMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),Ct=s.a.memo((function(e){var t=e.profilePage.postData.map((function(e){return Object(x.jsx)(Nt,{post:e},e.id)}));return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:Object(x.jsx)(yt,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=""}})}),Object(x.jsx)("div",{className:ht.a.posts,children:t})]})})),kt=Object(f.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:ct,newPostText:e}}(t))}}}))(Ct),Ut=function(e){var t=e.profilePage,n=e.updateStatus;return Object(x.jsxs)("div",{children:[Object(x.jsx)(ot,{profile:t.profile,status:t.status,updateStatus:n}),Object(x.jsx)(kt,{profilePage:t})]})},Et=Object(be.d)(Object(f.b)((function(e){return{profilePage:e.profilePage,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:mt,updateStatus:function(e){return function(){var t=Object(C.a)(y.a.mark((function t(n){return y.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.updateStatus(e);case 2:0===t.sent.data.resultCode&&n(bt(e));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}}),j.e)((function(e){var t=Object(f.c)();return Object(a.useEffect)((function(){var n=+e.match.params.userId;n||(n=e.authorizedUserId||0),t(mt(n)),t(pt(n))}),[]),Object(x.jsx)(Ut,{getUserProfile:e.getUserProfile,updateStatus:e.updateStatus,profilePage:e.profilePage})})),At=n(27),Tt=n.n(At),Mt=function(e){return Object(x.jsxs)("header",{className:Tt.a.header,children:[Object(x.jsx)("a",{className:Tt.a.header__inner,href:"/profile",children:Object(x.jsx)("img",{className:Tt.a.headerLogo,src:"https://img.icons8.com/ios/452/owl.png",alt:"logo"})}),Object(x.jsx)("a",{className:Tt.a.header__inner,href:"/profile",children:Object(x.jsx)("h1",{className:Tt.a.headerTitle,children:"owlbook.com"})}),Object(x.jsx)("div",{className:Tt.a.loginBlock,children:e.isAuth?Object(x.jsxs)("div",{children:[e.login," ",Object(x.jsx)("button",{className:Tt.a.loginLogoutBtn,onClick:e.logout,children:"\u0412\u044b\u0439\u0442\u0438"})]}):Object(x.jsx)(p.b,{className:Tt.a.loginLogoutBtn,to:"/login",children:"\u0432\u043e\u0439\u0442\u0438"})})]})},Dt=n(38),Ft="auth/SET_USER_DATA",Lt={userId:null,email:null,login:null,isAuth:!1},zt=function(e,t,n,a){return{type:Ft,payload:{userId:e,email:t,login:n,isAuth:a}}},Bt=function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){var n,a,s,r,i;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z();case 2:0===(n=e.sent).data.resultCode&&(a=n.data.data,s=a.id,r=a.email,i=a.login,t(zt(s,r,i,!0)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ft:return Object(U.a)(Object(U.a)({},e),t.payload);default:return e}},Gt=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return Object(x.jsx)(Mt,Object(U.a)({},this.props))}}]),n}(s.a.Component),Ht=Object(f.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(){var e=Object(C.a)(y.a.mark((function e(t){return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,W();case 2:0===e.sent.data.resultCode&&t(zt(null,null,null,!1));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})(Gt),Rt=n(77),Jt=n.n(Rt),Kt=Object(Ke.a)({form:"login"})((function(e){return Object(x.jsxs)("form",{onSubmit:e.handleSubmit,className:Jt.a.loginFormWrapper,children:[Object(x.jsx)("div",{children:Object(x.jsx)(Je.a,{"aria-label":"Email",placeholder:"Email",type:"Email",name:"email",component:Qe,validate:Ye})}),Object(x.jsx)("div",{children:Object(x.jsx)(Je.a,{"aria-label":"Password",placeholder:"\u041f\u0430\u0440\u043e\u043b\u044c",type:"password",name:"password",component:Qe,validate:Ye})}),Object(x.jsxs)("div",{children:[Object(x.jsx)(Je.a,{type:"checkbox",name:"rememberMe",component:"input"})," \u0417\u0430\u043f\u043e\u043c\u043d\u0438\u0442\u044c"]}),e.error&&Object(x.jsx)("div",{className:Jt.a.formSummaryError,children:e.error}),Object(x.jsx)("div",{children:Object(x.jsx)("button",{className:Jt.a.loginBtn,children:"Login"})})]})})),Yt=Object(f.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(){var a=Object(C.a)(y.a.mark((function a(s){var r,i;return y.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,B(e,t,n);case 2:if(0!==(r=a.sent).data.resultCode){a.next=8;break}return a.next=6,s(Bt());case 6:a.next=10;break;case 8:i=r.data.messages.length>0?r.data.messages[0]:"\u041e\u0448\u0438\u0431\u043a\u0430 \u0432\u0432\u043e\u0434\u0430",s(Object(Dt.a)("login",{_error:i}));case 10:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}()}})((function(e){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"\u041b\u043e\u0433\u0438\u043d"}),Object(x.jsx)(Kt,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}})]})})),Vt={sidebar:[{id:1,name:"\u041d\u0435\u044f\u0441\u044b\u0442\u044c",ava:n.p+"static/media/ava_1.806c3a9f.png"},{id:2,name:"\u0424\u0438\u043b\u0438\u043d",ava:n.p+"static/media/ava_2.4b6e81b1.png"},{id:3,name:"\u041f\u043e\u043b\u044f\u0440\u043d\u0430\u044f \u0441\u043e\u0432\u0430",ava:n.p+"static/media/ava_3.a36e71b7.png"}]},Xt=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vt;return e},qt=n(136),Zt=n(130),Qt="SUCCESS_INITIALIZED",$t={initialized:!1},en=function(){return{type:Qt}},tn=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$t,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Qt:return Object(U.a)(Object(U.a)({},e),{},{initialized:!0});default:return e}},nn=Object(be.c)({profilePage:gt,dialogsPage:De,friendsOnline:Xt,usersPage:ne,auth:Wt,form:Zt.a,app:tn}),an=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||be.d,sn=Object(be.e)(nn,an(Object(be.a)(qt.a))),rn=function(e){Object(u.a)(n,e);var t=Object(l.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Object(x.jsx)("div",{className:_.a.container,children:Object(x.jsxs)("div",{className:_.a.app__wrapper,children:[Object(x.jsx)(Ht,{}),Object(x.jsx)(w,{}),Object(x.jsx)("div",{className:_.a.content__wrapper,children:Object(x.jsxs)("div",{className:_.a.content__inner,children:[Object(x.jsx)(j.a,{path:"https://mitpal.ru/profile/:userId?",render:function(){return Object(x.jsx)(Et,{})}}),Object(x.jsx)(j.a,{path:"https://mitpal.ru/dialogs",render:function(){return Object(x.jsx)(nt,{})}}),Object(x.jsx)(j.a,{path:"https://mitpal.ru/users",render:function(){return Object(x.jsx)(Ie,{})}}),Object(x.jsx)(j.a,{path:"/news",render:function(){return Object(x.jsx)(we,{})}}),Object(x.jsx)(j.a,{path:"/music",render:function(){return Object(x.jsx)(Se,{})}}),Object(x.jsx)(j.a,{path:"/photo",render:function(){return Object(x.jsx)(ye,{})}}),Object(x.jsx)(j.a,{path:"/video",render:function(){return Object(x.jsx)(Ce,{})}}),Object(x.jsx)(j.a,{path:"/settings",render:function(){return Object(x.jsx)(ke,{})}}),Object(x.jsx)(j.a,{path:"/login",render:function(){return Object(x.jsx)(Yt,{})}})]})})]})}):Object(x.jsx)(de,{})}}]),n}(s.a.Component),on=Object(be.d)(j.e,Object(f.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){var t=e(Bt());Promise.all([t]).then((function(){e(en())}))}}}))(rn),cn=function(e){return Object(x.jsx)(p.a,{children:Object(x.jsx)(f.a,{store:sn,children:Object(x.jsx)(on,{})})})};i.a.render(Object(x.jsx)(cn,{}),document.getElementById("root"))},32:function(e,t,n){e.exports={formControl:"FormControls_formControl__zKx4R",error:"FormControls_error__frz7K",inputWindow:"FormControls_inputWindow__2O6cV",errorMessage:"FormControls_errorMessage__3coxl"}},36:function(e,t,n){e.exports={postsItem:"Post_postsItem__1DHL5",postsItem__inner:"Post_postsItem__inner__1-7QK",postsItem__avatar:"Post_postsItem__avatar__3N6Bd",postsItem__messages:"Post_postsItem__messages__1V62h",postsItem__activity:"Post_postsItem__activity__1G8T2",postsItem__like:"Post_postsItem__like__3sh5I",postsItem__send:"Post_postsItem__send__QVbcU"}},48:function(e,t,n){e.exports={profileImg:"ProfileInfo_profileImg__3mXT7",avatar:"ProfileInfo_avatar__3xuFq",avatarImg:"ProfileInfo_avatarImg__2izmI",myPosts:"ProfileInfo_myPosts__1no8m",myPosts__input:"ProfileInfo_myPosts__input__3tJm9",myPosts__button:"ProfileInfo_myPosts__button__19Gsk",statusText:"ProfileInfo_statusText__1KWIZ"}},49:function(e,t,n){e.exports={dialogs__item:"DialogItem_dialogs__item__1Cdio",dialogs__itemLink_img:"DialogItem_dialogs__itemLink_img__cYh4p",dialogs__itemLink:"DialogItem_dialogs__itemLink__tlNq4",dialogs__itemLink_active:"DialogItem_dialogs__itemLink_active__2OIAv",dialogs__item_name:"DialogItem_dialogs__item_name__3uvlk"}},61:function(e,t,n){e.exports={container:"App_container__16xz_",app__wrapper:"App_app__wrapper__1z8PO",content__wrapper:"App_content__wrapper__32aMC",content__inner:"App_content__inner__37WXs"}},74:function(e,t,n){e.exports={fOnline__inner:"FriendsAvatar_fOnline__inner__3mbGn",fOnline__name:"FriendsAvatar_fOnline__name__2sdlO",fOnline__ava:"FriendsAvatar_fOnline__ava__22q3P"}},76:function(e,t,n){e.exports={profileFormWrapper:"Profile_profileFormWrapper__1TJsL",profileMessages__input:"Profile_profileMessages__input__1M3bu",profileMessages__btn:"Profile_profileMessages__btn__1SIl3"}},77:function(e,t,n){e.exports={loginFormWrapper:"Login_loginFormWrapper__20PK_",loginBtn:"Login_loginBtn__JiEkY",formSummaryError:"Login_formSummaryError__3cy0x"}},94:function(e,t,n){e.exports={fOnline:"FriendsOnline_fOnline__3EvEn",fOnline__title:"FriendsOnline_fOnline__title__3WIS0"}}},[[290,1,2]]]);
//# sourceMappingURL=main.e2d53c84.chunk.js.map