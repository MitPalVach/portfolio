{"version":3,"sources":["components/Navbar/Navbar.module.css","components/Dialogs/Message/Message.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Users/Users.module.css","components/Dialogs/Dialogs.module.css","components/Header/Header.module.css","components/Navbar/FriendsOnline/FriendsAvatar/FriendsAvatar.tsx","components/Navbar/FriendsOnline/FriendsOnline.tsx","components/Navbar/FriendsOnline/FriendsOnlineContainer.tsx","components/Navbar/Navbar.tsx","api/api.ts","redux/usersReducer.ts","components/Common/Paginator/Paginator.tsx","components/Users/User.tsx","components/Users/Users.tsx","components/Common/Preloader/Preloader.tsx","hoc/withAuthRedirect.tsx","redux/usersSelectors.ts","components/Users/UsersContainer.tsx","components/News/News.tsx","components/Music/Music.tsx","components/Photo/Photo.tsx","components/Video/Video.tsx","components/Settings/Settings.tsx","redux/dialogsReducer.ts","components/Dialogs/DialogItem/DialogItem.tsx","components/Dialogs/Message/Message.tsx","utils/validators.ts","components/Common/FormControls/FormControls.tsx","components/Dialogs/AddMessageForm/AddMessageForm.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx","components/Profile/ProfileInfo/ProfileStatus.tsx","components/Profile/ProfileInfo/ProfileInfo.tsx","redux/profileReducer.ts","components/Profile/MyPosts/Post/Post.tsx","components/Profile/AddPostForm/AddPostForm.tsx","components/Profile/MyPosts/MyPosts.tsx","components/Profile/MyPosts/MyPostsContainer.tsx","components/Profile/Profile.tsx","components/Profile/ProfileContainer.tsx","components/Header/Header.tsx","redux/authReducer.ts","components/Header/HeaderContainer.tsx","components/Login/Login.tsx","redux/friendsOnlineReducer.ts","redux/appReducer.tsx","redux/reduxStore.ts","components/App/App.tsx","index.tsx","components/Common/FormControls/FormControls.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileInfo.module.css","components/Dialogs/DialogItem/DialogItem.module.css","components/App/App.module.css","components/Navbar/FriendsOnline/FriendsAvatar/FriendsAvatar.module.css","components/Profile/Profile.module.css","components/Login/Login.module.css","components/Navbar/FriendsOnline/FriendsOnline.module.css"],"names":["module","exports","FriendsAvatar","props","className","styles","fOnline__inner","fOnline__name","name","fOnline__ava","src","ava","alt","FriendsOnline","friendsAvatar","friendsOnline","sidebar","map","f","id","fOnline","fOnline__title","FriendsOnlineContainer","connect","state","Navbar","navbar","navbarItem","navbarItem__link","activeClassName","active","to","instance","axios","create","withCredentials","baseURL","headers","usersApi","currentPage","pageSize","get","then","response","data","userId","delete","post","console","warn","profileApi","getProfile","getStatus","updateStatus","status","put","authApi","email","password","rememberMe","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","ON_PAGE_CHANGED","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","initialState","users","totalUsersCount","pageNumber","isFetching","followingInProgress","portionSize","followSuccess","type","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","usersReducer","action","u","followed","filter","Paginator","pagesCount","Math","ceil","totalItemsCount","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","usersPagination","pageBtn","onClick","p","selectedPage","onPageChanged","User","usersItems","user","usersPhoto","photos","small","disabled","includes","unfollow","follow","Users","usersInner","usersPage","preloader","Preloader","style","background","mstp","isAuth","auth","withAuthRedirect","Component","restProps","getUsersSelector","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","getPortionSize","UsersContainer","getUsers","this","React","compose","dispatch","a","resultCode","page","items","totalCount","News","Music","Photo","Video","Settings","SEND_MESSAGE","dialogs","messages","message","dialogsReducer","newMessageBody","DialogItem","dialogs__item","dialogs__itemLink","dialogs__itemLink_active","dialogs__itemLink_img","dialogs__item_name","Message","dialogsMessages__item","required","value","maxLengthCreator","maxLength","length","Textarea","input","meta","showError","touched","error","formControl","errorMessage","Input","inputWindow","maxLength50","reduxForm","form","dialogFormWrapper","onSubmit","handleSubmit","Field","dialogMessages__input","component","placeholder","validate","dialogMessages__btn","Dialogs","dialogsPage","dialogsElements","d","messagesElements","m","dialogUsers","dialogMessages__wrapper","dir__title","dialogMessages","values","sendMessage","sendMessageAC","ProfileStatus","editMode","setEditMode","setStatus","useEffect","statusText","onDoubleClick","onChange","e","currentTarget","onBlur","autoFocus","ProfileInfo","profile","profileImg","avatar","large","avatarImg","ADD_POST","DELETE_POST","SET_USER_PROFILE","SET_USER_STATUS","SET_UPDATE_STATUS","postData","likeCount","setUpdateStatus","getUserProfile","profileReducer","newPost","newPostText","postId","Post","postsItem","postsItem__inner","postsItem__avatar","postsItem__activity","postsItem__like","postsItem__send","profileFormWrapper","profileMessages__input","profileMessages__btn","MyPosts","memo","postElements","profilePage","addPost","posts","MyPostsContainer","addPostAC","Profile","authorizedUserId","withRouter","useDispatch","match","params","Header","header","header__inner","href","headerLogo","headerTitle","loginBlock","login","loginLogoutBtn","logout","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","LoginReduxForm","loginFormWrapper","aria-label","formSummaryError","loginBtn","stopSubmit","_error","formData","friendsOnlineReducer","SUCCESS_INITIALIZED","initialized","successInitialized","appReducer","rootReducer","combineReducers","formReducer","app","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","App","initializeApp","container","app__wrapper","content__wrapper","content__inner","path","render","DialogsContainer","AppContainer","promise","Promise","all","SocialApp","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.3361fac1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"navbar\":\"Navbar_navbar__CLYHD\",\"navbarItem\":\"Navbar_navbarItem__1xOtf\",\"navbarItem__link\":\"Navbar_navbarItem__link__2g1i6\",\"active\":\"Navbar_active__3mbhk\",\"friendsOnline\":\"Navbar_friendsOnline__2Jno3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogsMessages__item\":\"Message_dialogsMessages__item__fepUr\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"posts\":\"MyPosts_posts__3tZ1c\",\"myPosts__input_inner\":\"MyPosts_myPosts__input_inner__3ju60\",\"myPosts__input\":\"MyPosts_myPosts__input__3c6Pi\",\"myPosts__button\":\"MyPosts_myPosts__button__2y1hV\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"usersInner\":\"Users_usersInner__2v4Ca\",\"usersWrapper\":\"Users_usersWrapper__2gv8N\",\"users__leftSide\":\"Users_users__leftSide__2K0Yk\",\"usersPhoto\":\"Users_usersPhoto__3osYH\",\"usersBtn\":\"Users_usersBtn__1iOAv\",\"users__rightSide\":\"Users_users__rightSide__2yxXk\",\"pagination\":\"Users_pagination__2Njh9\",\"usersPagination\":\"Users_usersPagination__1qbrf\",\"pages\":\"Users_pages__2ZPtK\",\"selectedPage\":\"Users_selectedPage__J63sh\",\"usersItems\":\"Users_usersItems__3D9Hj\",\"pageBtnDisplayNone\":\"Users_pageBtnDisplayNone__2TZjX\",\"pageBtn\":\"Users_pageBtn__2Wtq-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs\":\"Dialogs_dialogs__2xRSA\",\"dir__title\":\"Dialogs_dir__title__euGaD\",\"dialogUsers\":\"Dialogs_dialogUsers__3n8lx\",\"dialogMessages__wrapper\":\"Dialogs_dialogMessages__wrapper__3yGDs\",\"dialogMessages\":\"Dialogs_dialogMessages__3ag9d\",\"dialogFormWrapper\":\"Dialogs_dialogFormWrapper__16edN\",\"dialogMessages__input\":\"Dialogs_dialogMessages__input__1ACmk\",\"dialogMessages__btn\":\"Dialogs_dialogMessages__btn__QhydC\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__1VCKf\",\"header__inner\":\"Header_header__inner__26ef8\",\"headerLogo\":\"Header_headerLogo__pHUY0\",\"headerTitle\":\"Header_headerTitle__3Y2pE\",\"loginBlock\":\"Header_loginBlock__6mma5\",\"loginLogoutBtn\":\"Header_loginLogoutBtn__31tEv\"};","import React from 'react';\nimport styles from './FriendsAvatar.module.css';\n\n\ntype PropsType = {\n    id:number\n    name: string\n    ava:string\n}\nconst FriendsAvatar:React.FC<PropsType> = (props) => {\n    return (\n        <div className={styles.fOnline__inner}>\n            <div className={styles.fOnline__name}>{props.name}</div>\n            <img className={styles.fOnline__ava} src={props.ava} alt=\"\"/>\n        </div>\n    );\n};\n\nexport default FriendsAvatar;","import React from 'react';\nimport styles from './FriendsOnline.module.css';\nimport {FriendsOnlineType} from \"../../../redux/store\";\nimport FriendsAvatar from \"./FriendsAvatar/FriendsAvatar\";\n\n\ntype PropsType ={\n    friendsOnline: FriendsOnlineType\n}\nconst FriendsOnline:React.FC<PropsType> = (props) => {\nlet state = props.friendsOnline\n    let friendsAvatar = state.sidebar.map(f => <FriendsAvatar\n        key={f.id}\n        name={f.name}\n        ava={f.ava}\n        id={f.id}\n    />);\n    return (\n        <div className={styles.fOnline}>\n            <h5 className={styles.fOnline__title}>Друзья онлайн</h5>\n            {friendsAvatar}\n        </div>\n    );\n};\n\nexport default FriendsOnline;\n\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport FriendsOnline from \"./FriendsOnline\";\nimport {RootStateType} from \"../../../redux/store\";\n\n\nlet mapStateToProps = (state:RootStateType) => {\n    return {\n        friendsOnline: state.friendsOnline\n    }\n}\n\nconst FriendsOnlineContainer: React.FC = connect(mapStateToProps)(FriendsOnline)\n\nexport default FriendsOnlineContainer;\n\n","import styles from './Navbar.module.css';\nimport React from 'react';\nimport {NavLink} from \"react-router-dom\";\nimport FriendsOnlineContainer from \"./FriendsOnline/FriendsOnlineContainer\";\n\n\nconst Navbar:React.FC = () => {\n\n    return (\n        <nav className={styles.navbar}>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/profile\"}>\n                    Профиль</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/dialogs\"} >\n                    Сообщения</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/users\"} >\n                    Друзья</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/news\"} >\n                    Новости</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/music\"} >\n                    Музыка</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/photo\"} >\n                    Фото</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/video\"} >\n                    Видео</NavLink>\n            </div>\n            <div className={styles.navbarItem}>\n                <NavLink className={styles.navbarItem__link} activeClassName={styles.active}\n                   to={\"/settings\"} >\n                    Настройки</NavLink>\n            </div>\n            <div className={styles.friendsOnline}>\n\n                <FriendsOnlineContainer />\n            </div>\n        </nav>\n    )\n}\n\nexport default Navbar;\n","import axios from \"axios\";\nimport {ProfileUserType} from \"../redux/profileReducer\";\nimport {AuthPropsType} from \"../redux/authReducer\";\n\n\nconst instance = axios.create({\n    withCredentials: true,\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\n    headers: {'API-KEY': '411482a7-ac02-48c2-a201-383524308513'},\n})\n\nexport const usersApi = {\n    getUsers(currentPage: number = 1, pageSize: number = 10) {\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\n            .then(response => response.data)\n    },\n    unfollow(userId: number) {\n        return instance.delete(`follow/${userId}`\n        )\n    },\n    follow(userId: number) {\n        return instance.post(`follow/${userId}`\n        )\n    },\n    getProfile(userId: number) {\n        console.warn('Obsolete method. Please profileApi object')\n        return profileApi.getProfile(userId)\n    },\n}\n\n// ====\n\nexport const profileApi = {\n    getProfile(userId: number) {\n        return instance.get<ProfileUserType>(`profile/${userId}`)\n    },\n    getStatus(userId: number) {\n        return instance.get(`profile/status/${userId}`)\n    },\n    updateStatus(status: string) {\n        return instance.put(`profile/status/`, {status})\n    },\n}\n\n// ====\n\nexport const authApi = {\n    me() {\n        return instance.get<AuthPropsType>(`auth/me`)\n    },\n    login(email: string, password: string, rememberMe: boolean) {\n        return instance.post<AuthPropsType>(`auth/login`, {email, password, rememberMe})\n    },\n    logout() {\n        return instance.delete<AuthPropsType>(`auth/login`)\n    },\n}","import {usersApi} from \"../api/api\";\nimport {Dispatch} from \"redux\";\n\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_USERS = 'SET_USERS'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\nconst ON_PAGE_CHANGED = 'ON_PAGE_CHANGED'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING';\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS';\n\n\nexport type LocationType = {\n    city: string\n    country: string\n}\nexport type UserType = {\n    id: number\n    photos: {\n        small: string\n        large: string\n    }\n    followed: boolean\n    name: string\n    status: string\n    location: LocationType\n}\nexport type InitialStateType = {\n    users: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    pageNumber: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n    portionSize: number\n}\n\nlet initialState: InitialStateType = {\n    users: [],\n    pageSize: 20,\n    totalUsersCount: 0,\n    currentPage: 1,\n    pageNumber: 1,\n    isFetching: true,\n    followingInProgress: [],\n    portionSize: 10,\n}\nconst usersReducer = (state: InitialStateType = initialState, action: ActionsTypes): InitialStateType => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state, users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: true}\n                    }\n                    return u;\n                })\n            }\n        case UNFOLLOW:\n            return {\n                ...state, users: state.users.map(u => {\n                    if (u.id === action.userId) {\n                        return {...u, followed: false}\n                    }\n                    return u;\n                })\n            }\n        case SET_USERS: {\n            return {...state, users: action.users}\n        }\n        case SET_CURRENT_PAGE: {\n            return {...state, currentPage: action.currentPage}\n        }\n        case SET_TOTAL_USERS_COUNT: {\n            return {...state, totalUsersCount: action.totalUsersCount}\n        }\n        case ON_PAGE_CHANGED: {\n            return {...state, pageNumber: action.pageNumber}\n        }\n        case TOGGLE_IS_FETCHING: {\n            return {...state, isFetching: action.isFetching}\n        }\n        case TOGGLE_IS_FOLLOWING_PROGRESS: {\n            return {\n                ...state, followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter((id: number) => id !== action.userId)\n            }\n        }\n        default:\n            return state\n    }\n}\n\nexport type ActionsTypes =\n    ReturnType<typeof followSuccess> | ReturnType<typeof unfollowSuccess>\n    | ReturnType<typeof setUsers> | ReturnType<typeof setCurrentPage>\n    | ReturnType<typeof setTotalUsersCount> | ReturnType<typeof onPageChanged>\n    | ReturnType<typeof toggleIsFetching> | ReturnType<typeof toggleFollowingProgress>\n\nexport const followSuccess = (userId: number) => ({type: FOLLOW, userId} as const)\nexport const unfollowSuccess = (userId: number) => ({type: UNFOLLOW, userId} as const)\nexport const setUsers = (users: Array<UserType>) => ({type: SET_USERS, users} as const)\nexport const setCurrentPage = (currentPage: number) => ({type: SET_CURRENT_PAGE, currentPage} as const)\nexport const setTotalUsersCount = (totalUsersCount: number) => ({\n    type: SET_TOTAL_USERS_COUNT, totalUsersCount\n} as const)\nexport const onPageChanged = (pageNumber: number) => ({type: ON_PAGE_CHANGED, pageNumber} as const)\nexport const toggleIsFetching = (isFetching: boolean) => ({type: TOGGLE_IS_FETCHING, isFetching} as const)\nexport const toggleFollowingProgress = (isFetching: boolean, userId: number) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n} as const)\n\nexport const getUsers = (page: number, pageSize: number) => async (dispatch: Dispatch) => {\n    dispatch(toggleIsFetching(true))\n    dispatch(setCurrentPage(page))\n    let data = await usersApi.getUsers(page, pageSize)\n    dispatch(toggleIsFetching(false))\n    dispatch(setUsers(data.items))\n    dispatch(setTotalUsersCount(data.totalCount))\n}\n\nexport const follow = (userId: number) => async (dispatch: Dispatch) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await usersApi.follow(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(followSuccess(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\nexport const unfollow = (userId: number) => async (dispatch: Dispatch) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await usersApi.unfollow(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(unfollowSuccess(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\n\n// refactor ->\n// const followUnfollowFlow = async (dispatch: Dispatch, userId: number, apiMethod: (userId: number) => void, ac: (userId: number) => void) => {\n//     dispatch(toggleFollowingProgress(true, userId))\n//     let response = await apiMethod(userId)\n//     if (response.data.resultCode === 0) {\n//         dispatch(ac(userId))\n//     }\n//     dispatch(toggleFollowingProgress(false, userId))\n// }\n//\n// export const follow = (userId: number) => async (dispatch: Dispatch) => {\n//     followUnfollowFlow(dispatch, userId, usersApi.follow.bind(usersApi), followSuccess)\n// }\n// export const unfollow = (userId: number) => async (dispatch: Dispatch) => {\n//     followUnfollowFlow(dispatch, userId, usersApi.unfollow.bind(usersApi), unfollowSuccess)\n// }\n\nexport default usersReducer;","import React, {useState} from 'react';\nimport styles from \"../../Users/Users.module.css\";\n\n\ntype UsersType = {\n    totalItemsCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    portionSize: number\n}\n\nconst Paginator = (props: UsersType): JSX.Element => {\n    let pagesCount = Math.ceil(props.totalItemsCount / props.pageSize)\n    let pages = []\n    for (let i = 1; i <= pagesCount; i++) {\n        pages.push(i)\n    }\n\n    const portionCount = Math.ceil(pagesCount / props.portionSize)\n    const [portionNumber, setPortionNumber] = useState(1)\n    const leftPortionPageNumber = (portionNumber - 1) * props.portionSize + 1\n    const rightPortionPageNumber = portionNumber * props.portionSize\n\n    return (\n        <div className={styles.usersPagination}>\n            {portionNumber > 1 &&\n            <button className={styles.pageBtn}\n                    onClick={() => {\n                        setPortionNumber(portionNumber - 1)\n                    }}> &larr; </button>}\n            {pages\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\n                .map((p) => {\n                    return <span key={p}\n                                 className={props.currentPage === p ? styles.selectedPage : styles.pages}\n                                 onClick={() => props.onPageChanged(p)}\n                    >{p}</span>\n                })}\n            {portionCount > portionNumber &&\n            <button className={styles.pageBtn}\n                    onClick={() => {\n                        setPortionNumber(portionNumber + 1)\n                    }}> &rarr; </button>}\n        </div>\n    )\n};\n\nexport default Paginator;\n\n\n","import React from 'react';\nimport styles from \"./Users.module.css\";\n// import userPhoto from \"./avatar_to_all.png\";\nimport {UserType} from \"../../redux/usersReducer\";\nimport {NavLink} from 'react-router-dom';\nconst userPhoto = 'https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260'\n\n\ntype UserPropsType = {\n    user: UserType\n    followingInProgress: Array<number>\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n}\nconst User = (props: UserPropsType): JSX.Element => {\n\n    return (\n        <div className={styles.usersItems}>\n            <NavLink to={'/profile/' + props.user.id}>\n                <img className={styles.usersPhoto} alt={'user_photo'}\n                     src={props.user.photos.small !== null ? props.user.photos.small : userPhoto}/>\n            </NavLink>\n            <div>\n                {props.user.followed\n                    ? <button disabled={props.followingInProgress.includes(props.user.id)} onClick={() => {\n                        props.unfollow(props.user.id)\n                    }}>Unfollow</button>\n                    : <button disabled={props.followingInProgress.includes(props.user.id)} onClick={() => {\n                        props.follow(props.user.id)\n                    }}>Follow</button>}\n            </div>\n            <span>\n                    <span>\n                        <div>{props.user.name}</div>\n                        <div>{props.user.status}</div>\n                    </span>\n                    <span>\n                        <div>{\"props.location.country\"}</div>\n                        <div>{\"props.location.city\"}</div>\n                    </span>\n                </span>\n        </div>\n    )\n};\n\nexport default User;","import React from 'react';\nimport styles from \"./Users.module.css\";\nimport {UserType} from \"../../redux/usersReducer\";\nimport Paginator from \"../Common/Paginator/Paginator\";\nimport User from \"./User\";\n\n\ntype UsersType = {\n    usersPage: Array<UserType>\n    totalUsersCount: number\n    pageSize: number\n    currentPage: number\n    onPageChanged: (pageNumber: number) => void\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    isFetching: boolean\n    followingInProgress: Array<number>\n    portionSize: number\n}\nconst Users = (props: UsersType): JSX.Element => {\n    return (\n        <div className={styles.usersInner}>\n            <Paginator totalItemsCount={props.totalUsersCount}\n                       pageSize={props.pageSize}\n                       currentPage={props.currentPage}\n                       onPageChanged={props.onPageChanged}\n                       portionSize={props.portionSize}\n            />\n\n            {props.usersPage.map(u => <User key={u.id}\n                                            user={u}\n                                            followingInProgress={props.followingInProgress}\n                                            follow={props.follow}\n                                            unfollow={props.unfollow}\n            />)}\n        </div>\n    );\n};\n\nexport default Users;","import React from 'react';\n// import preloader from '../../../images/spinner.svg';\nconst preloader = 'https://media3.giphy.com/media/3oEjI6SIIHBdRxXI40/giphy.gif?cid=790b7611ea276bbbbaa21051bf651344dc6397a74078b299&rid=giphy.gif&ct=g'\n\nconst Preloader = () => {\n    return (\n        <div style={{background: 'white'}}>\n            <img src={preloader} alt={preloader}/>\n        </div>\n    );\n};\n\nexport default Preloader;","import React, {ComponentType} from 'react';\nimport {Redirect} from \"react-router-dom\";\nimport {connect} from \"react-redux\";\nimport {AppStateType} from \"../redux/reduxStore\";\n\n\ntype mstpType = {\n    isAuth: boolean\n}\nconst mstp = (state: AppStateType): mstpType => {\n    return {\n        isAuth: state.auth.isAuth\n    }\n}\n\nexport function withAuthRedirect<T>(Component: ComponentType<T>) {\n    const RedirectComponent = (props: mstpType) => {\n        let {isAuth, ...restProps} = props\n        // if (!isAuth) return <Redirect to={'/login'}/>  // раскомент\n        return <Component {...restProps as T}/>\n    }\n    return connect(mstp)(RedirectComponent)\n}\n\n\n","import {AppStateType} from \"./reduxStore\";\nimport {createSelector} from \"reselect\";\nimport {UserType} from \"./usersReducer\";\n\nconst getUsersPage = (state: AppStateType) => {\n    return state.usersPage.users\n}\nexport const getUsersSelector = createSelector(getUsersPage, (users: UserType[]) => {\n    return users.filter(u => true)\n})\n\nexport const getPageSize = (state: AppStateType) => {\n    return state.usersPage.pageSize\n}\nexport const getTotalUsersCount = (state: AppStateType) => {\n    return state.usersPage.totalUsersCount\n}\nexport const getCurrentPage = (state: AppStateType) => {\n    return state.usersPage.currentPage\n}\nexport const getIsFetching = (state: AppStateType) => {\n    return state.usersPage.isFetching\n}\nexport const getFollowingInProgress = (state: AppStateType) => {\n    return state.usersPage.followingInProgress\n}\nexport const getPortionSize = (state: AppStateType) => {\n    return state.usersPage.portionSize\n}\n\n\n\n\n","import React from 'react';\nimport {connect} from \"react-redux\";\nimport {\n    follow, unfollow, getUsers, onPageChanged, setCurrentPage, toggleFollowingProgress, toggleIsFetching, UserType\n} from \"../../redux/usersReducer\";\nimport {AppStateType} from \"../../redux/reduxStore\";\nimport Users from \"./Users\";\nimport Preloader from \"../Common/Preloader/Preloader\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\nimport {\n    getCurrentPage,\n    getFollowingInProgress,\n    getIsFetching,\n    getPageSize, getPortionSize,\n    getTotalUsersCount,\n    getUsersSelector,\n} from \"../../redux/usersSelectors\";\n\n\ntype MapStatePropsType = {\n    usersPage: Array<UserType>\n    pageSize: number\n    totalUsersCount: number\n    currentPage: number\n    isFetching: boolean\n    followingInProgress: Array<number>\n    portionSize:number\n}\ntype MapDispatchPropsType = {\n    follow: (userId: number) => void\n    unfollow: (userId: number) => void\n    setCurrentPage: (pageNumber: number) => void\n    onPageChanged: (pageNumber: number) => void\n    toggleIsFetching: (isFetching: boolean) => void\n    getUsers: (currentPage: number, pageSize: number) => void\n}\nexport type UsersPropsType = MapStatePropsType & MapDispatchPropsType\n\nclass UsersContainer extends React.Component<UsersPropsType, UsersPropsType> {\n    componentDidMount() {\n        this.props.getUsers(this.props.currentPage, this.props.pageSize)\n    }\n\n    onPageChanged = (pageNumber: number) => {\n        this.props.getUsers(pageNumber, this.props.pageSize)\n    }\n\n    render() {\n        return <>\n            {this.props.isFetching ? <Preloader/> : null}\n            {/*<Users user={this.props.user} usersPage={} totalUsersCount={} pageSize={} currentPage={} onPageChanged={} follow={} unfollow={} isFetching={} followingInProgress={}*/}\n            <Users totalUsersCount={this.props.totalUsersCount}\n                   pageSize={this.props.pageSize}\n                   currentPage={this.props.currentPage}\n                   onPageChanged={this.onPageChanged}\n                   usersPage={this.props.usersPage}\n                   follow={this.props.follow}\n                   unfollow={this.props.unfollow}\n                   isFetching={this.props.isFetching}\n                   followingInProgress={this.props.followingInProgress}\n                   portionSize={this.props.portionSize}\n            />\n        </>\n    }\n}\n\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        usersPage: getUsersSelector(state),\n        pageSize: getPageSize(state),\n        totalUsersCount: getTotalUsersCount(state),\n        currentPage: getCurrentPage(state),\n        isFetching: getIsFetching(state),\n        followingInProgress: getFollowingInProgress(state),\n        portionSize: getPortionSize(state)\n    }\n}\n\nexport default compose<React.ComponentType>(\n    withAuthRedirect,\n    connect(mapStateToProps, {\n            follow, unfollow, setCurrentPage, toggleFollowingProgress,\n            getUsers, onPageChanged, toggleIsFetching\n        }\n    ))(UsersContainer)\n\n","import React from \"react\";\nimport styles from './News.module.css';\n\n\nconst News = () => {\n    return (\n        <div>\n            News\n        </div>\n    )\n}\n\nexport default News;","import React from \"react\";\nimport styles from './Music.module.css';\n\n\nconst Music = () => {\n    return (\n        <div>\n            Music\n        </div>\n    )\n}\n\nexport default Music;","import React from \"react\";\nimport styles from './Photo.module.css';\n\n\nconst Photo = () => {\n    return (\n        <div>\n            Photo\n        </div>\n    )\n}\n\nexport default Photo;","import React from \"react\";\nimport styles from './Video.module.css';\n\n\nconst Video = () => {\n    return (\n        <div>\n            Video\n        </div>\n    )\n}\n\nexport default Video;","import React from \"react\";\nimport styles from './Settings.module.css';\n\n\nconst Settings = () => {\n    return (\n        <div>\n            Settings\n        </div>\n    )\n}\n\nexport default Settings;","// import filin from \"../images/friends_avatars/filin.jpeg\";\n// import sipuha from \"../images/friends_avatars/sipuha.jpeg\";\n// import rybniyFilin from \"../images/friends_avatars/rybniy-filin.jpeg\";\nconst tom = 'https://images.pexels.com/photos/3622695/pexels-photo-3622695.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500'\nconst alex = 'https://images.pexels.com/photos/3732453/pexels-photo-3732453.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500'\nconst jane = 'https://images.pexels.com/photos/6474755/pexels-photo-6474755.jpeg?auto=compress&cs=tinysrgb&dpr=2&w=500'\n\nconst SEND_MESSAGE = 'SEND-MESSAGE'\n\nexport type MessagesType = {\n    id: number\n    message: string\n}\nexport type DialogsType = {\n    id: number\n    name: string\n    friendsAvatar: string\n}\n\nlet initialState = {\n    dialogs: [\n        {id: 1, name: 'Tom', friendsAvatar: tom},\n        {id: 2, name: 'Alex', friendsAvatar: alex},\n        {id: 3, name: 'Jane', friendsAvatar: jane}\n    ] as Array<DialogsType>,\n    messages: [\n        {id: 1, message: 'Hello'},\n        {id: 2, message: 'Hi'},\n        {id: 3, message: 'Bye'},\n    ] as Array<MessagesType>,\n}\nexport type InitialStateType = typeof initialState\n\nconst dialogsReducer = (state: InitialStateType = initialState, action: ActionsTypes) => {\n\n    switch (action.type) {\n        case SEND_MESSAGE:\n            return {\n                ...state,\n                messages: [{id: 6, message: action.newMessageBody}, ...state.messages]\n            };\n    }\n    return state\n}\n\nexport type ActionsTypes =\n    ReturnType<typeof sendMessageAC>\n\nexport const sendMessageAC = (newMessageBody: string) => {\n    return {\n        type: SEND_MESSAGE,\n        newMessageBody\n    } as const\n}\n\nexport default dialogsReducer","import styles from './DialogItem.module.css';\nimport React from \"react\";\nimport {NavLink} from \"react-router-dom\";\nimport {DialogsType} from \"../../../redux/dialogsReducer\";\n\n\n\ntype DialogItemTypes = {\n    dialogs:DialogsType\n}\nconst DialogItem: React.FC<DialogItemTypes> = (props) => {\n    return (\n        <div className={styles.dialogs__item}>\n            <NavLink className={styles.dialogs__itemLink}\n                     to={\"/dialogs/\" + props.dialogs.id} activeClassName={styles.dialogs__itemLink_active}>\n                <img className={styles.dialogs__itemLink_img} src={props.dialogs.friendsAvatar} alt=\"\"/>\n                <div className={styles.dialogs__item_name}>\n                    {props.dialogs.name}\n                </div>\n            </NavLink>\n        </div>\n    )\n}\n\nexport default DialogItem;","import styles from './Message.module.css';\nimport React from \"react\";\nimport {MessagesType} from \"../../../redux/dialogsReducer\";\n\n\ntype MessageTypes = {\n    messages: MessagesType\n}\nconst Message: React.FC<MessageTypes> = (props) => {\n\n    return (\n        <div>\n            <div className={styles.dialogsMessages__item} key={props.messages.id}>\n                {props.messages.message}\n            </div>\n        </div>\n    )\n}\n\nexport default Message;\n","export const required = (value: string) => {\n    if (value) return undefined\n\n    return 'Обязательно заполните';\n}\n\nexport const maxLengthCreator = (maxLength: number) => (value: string) => {\n    if (value.length > maxLength) return `Не больше ${maxLength} символов`\n\n    return undefined\n}\n\n\n\n\n\n\n","import React from 'react';\nimport styles from './FormControls.module.css';\nimport {WrappedFieldProps} from \"redux-form\";\n\n\nexport const Textarea = (props: WrappedFieldProps) => {\n    const {input, meta, ...restProps} = props\n    const showError = props.meta.touched && props.meta.error\n    return (\n        <div className={`${styles.formControl} ${showError ? styles.error : ''}`}>\n            <div>\n                <textarea {...props.input} {...restProps}/>\n            </div>\n            {showError && <div className={styles.errorMessage}>{props.meta.error}</div>}\n        </div>\n    );\n};\n\nexport const Input = (props: WrappedFieldProps) => {\n    const {input, meta, ...restProps} = props\n    const showError = props.meta.touched && props.meta.error\n    return (\n        <div className={`${styles.formControl} ${showError ? styles.error : ''}`}>\n            <div>\n                <textarea className={styles.inputWindow} {...props.input} {...restProps}/>\n            </div>\n            {showError && <div className={styles.errorMessage}>{props.meta.error}</div>}\n        </div>\n    );\n};\n\n\n\n","import React from \"react\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport styles from \"../Dialogs.module.css\";\nimport {maxLengthCreator, required} from \"../../../utils/validators\";\nimport {Textarea} from \"../../Common/FormControls/FormControls\";\n\n\nconst maxLength50 = maxLengthCreator(50)\nexport const AddMessageForm: React.FC<InjectedFormProps> = (props) => {\n    return (\n        <form className={styles.dialogFormWrapper} onSubmit={props.handleSubmit}>\n            <div>\n                <Field className={styles.dialogMessages__input}\n                       component={Textarea}\n                       name='newMessageBody'\n                       placeholder={'Введите сообщение'}\n                       validate={[required, maxLength50]}\n                />\n            </div>\n            <div>\n                <button className={styles.dialogMessages__btn}>Написать</button>\n            </div>\n        </form>\n    )\n}\n\nexport default reduxForm({form: 'dialogAddMessageForm'})(AddMessageForm)\n","import React from 'react';\nimport styles from './Dialogs.module.css';\nimport DialogItem from \"./DialogItem/DialogItem\";\nimport Message from \"./Message/Message\";\nimport {DialogsPageType} from \"../../redux/store\";\nimport AddMessageForm from \"./AddMessageForm/AddMessageForm\";\n\n\nexport type PropsType = {\n    dialogsPage: DialogsPageType\n    sendMessage: (newMessageBody: string) => void\n}\nconst Dialogs: React.FC<PropsType> = (props) => {\n    let state = props.dialogsPage\n    let dialogsElements = state.dialogs.map(d => <DialogItem key={d.id} dialogs={d}/>);\n    let messagesElements = state.messages.map(m => <Message key={m.id} messages={m}/>);\n\n    let addNewMessage = (values: any) => {\n        props.sendMessage(values.newMessageBody)\n    }\n\n    return (\n        <div className={styles.dialogs}>\n            <div className={styles.dialogUsers}>\n                {dialogsElements}\n            </div>\n            <div className={styles.dialogMessages__wrapper}>\n                <h4 className={styles.dir__title}> Dialogs </h4>\n                <div className={styles.dialogMessages}>\n                    {messagesElements}\n                </div>\n                <AddMessageForm onSubmit={addNewMessage}/>\n            </div>\n        </div>\n    )\n}\n\nexport default Dialogs;","import React from 'react';\nimport {sendMessageAC} from \"../../redux/dialogsReducer\";\nimport Dialogs from \"./Dialogs\";\nimport {ActionsTypes, RootStateType} from \"../../redux/store\";\nimport {connect} from \"react-redux\";\nimport {withAuthRedirect} from \"../../hoc/withAuthRedirect\";\nimport {compose} from \"redux\";\n\n\nlet mapStateToProps = (state: RootStateType) => {\n    return {\n        dialogsPage: state.dialogsPage,\n    }\n}\nlet mapDispatchToProps = (dispatch: (action: ActionsTypes) => void) => {\n    return {\n        sendMessage: (newMessageBody: string) => {\n            dispatch(sendMessageAC(newMessageBody))\n        },\n    }\n}\n\nexport default compose<React.ComponentType>(\n    connect(mapStateToProps, mapDispatchToProps),\n    withAuthRedirect\n)(Dialogs)\n","import React, {ChangeEvent, useEffect, useState} from 'react';\nimport styles from './ProfileInfo.module.css';\n\n\ntype ProfileStatusType = {\n    status: string\n    updateStatus: (status: string) => void\n}\n\nconst ProfileStatus = (props: ProfileStatusType) => {\n    const [editMode, setEditMode] = useState<boolean>(false)\n    const [status, setStatus] = useState<string>(props.status)\n\n    useEffect(() => {\n      setStatus(props.status)\n    }, [props.status])\n\n    const activeMode = () => {\n        setEditMode(true)\n    }\n    const deactivateEditMode = () => {\n        setEditMode(false)\n        props.updateStatus(status)\n    }\n    const onStatusChange = (e: ChangeEvent<HTMLInputElement>) => {\n        setStatus(e.currentTarget.value)\n    }\n\n    return (\n        <div className={styles.statusText}>\n            {!editMode &&\n            <span onDoubleClick={activeMode}>\n                    {status || 'no status'}\n                </span>}\n            {editMode &&\n            <input onChange={onStatusChange}\n                   onBlur={deactivateEditMode}\n                   autoFocus={true}\n                   value={status}\n            />}\n        </div>\n    )\n}\n\n\nexport default ProfileStatus","import React from \"react\";\nimport styles from './ProfileInfo.module.css';\nimport Preloader from \"../../Common/Preloader/Preloader\";\nimport ProfileStatus from \"./ProfileStatus\";\n// import owlEyes from '../../../images/owl_eyes.jpeg';\n\n\ntype PhotosType = {\n    photos: {\n        small: string\n        large: string\n    }\n}\ntype ProfileInfoType = {\n    profile: PhotosType\n    status: string\n    updateStatus: (status: string) => void\n}\nconst ProfileInfo = (props: ProfileInfoType) => {\n    if (!props.profile) {\n        return <Preloader/>\n    }\n    return (\n        <div>\n            <div>\n                <img className={styles.profileImg}\n                     src={'http://green-forest36.ru/wp-content/uploads/2020/04/2-1.jpg'}\n                    // src={owlEyes}\n                     alt='owl'/>\n            </div>\n            <div className={styles.avatar}>\n                {props.profile.photos.large &&\n                <img className={styles.avatarImg}\n                     src={props.profile.photos.large} alt=\"avatar\"/>}\n                <ProfileStatus status={props.status} updateStatus={props.updateStatus}/>\n            </div>\n        </div>\n    )\n}\n\nexport default ProfileInfo;","import {PostDataType} from \"./store\";\nimport {profileApi, usersApi} from \"../api/api\";\nimport {Dispatch} from \"redux\";\nimport {ThunkDispatch} from \"redux-thunk\";\nimport {AppStateType} from \"./reduxStore\";\n\n\nconst ADD_POST = \"ADD-POST\"\nconst DELETE_POST = 'DELETE_POST'\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\nconst SET_USER_STATUS = 'SET_USER_STATUS'\nconst SET_UPDATE_STATUS = 'SET_UPDATE_STATUS'\n\nlet initialState = {\n    postData: [\n        {message: 'Hi, how are you?', id: 1, likeCount: 12},\n        {message: 'What do you think about JS?', id: 2, likeCount: 22},\n        {message: 'I learn not only JS but and TS!', id: 3, likeCount: 42},\n        {message: 'Oh, it\\'s cool', id: 4, likeCount: 23}\n    ],\n    // newPostText: '',\n    profile: null,\n    status: '',\n}\nexport type ProfileUserType = {\n    profile: {\n        userId: number\n        lookingForAJob: boolean\n        lookingForAJobDescription: string\n        fullName: string\n        contacts: ContactsType\n        photos: {\n            small: string\n            large: string\n        },\n    }\n    postData: Array<PostDataType>\n    newPostText: string\n    status: string\n}\ntype ContactsType = {\n    github: string\n    vk: string\n    facebook: string\n    instagram: string\n    twitter: string\n    website: string\n    youtube: string\n    mainLink: string\n}\n\ntype InitStateType = typeof initialState\n\nconst profileReducer = (state: InitStateType = initialState, action: ActionsTypes) => {\n    switch (action.type) {\n        case ADD_POST: {\n            let newPost = {\n                id: 5,\n                message: action.newPostText,\n                likeCount: 0\n            };\n            return {\n                ...state,\n                postData: [newPost, ...state.postData],\n            }\n        }\n        case DELETE_POST: {\n            return {\n                ...state,\n                postData: state.postData.filter(p => p.id !== action.postId)\n            }\n        }\n        case SET_USER_STATUS: {\n            return {\n                ...state,\n                status: action.status\n            }\n        }\n        case SET_USER_PROFILE: {\n            return {...state, profile: action.profile}\n        }\n        case SET_UPDATE_STATUS: {\n            return {...state, status: action.status}\n        }\n    }\n    return state\n}\n\nexport type ActionsTypes =\n    ReturnType<typeof addPostAC>\n    | ReturnType<typeof setUserProfile>\n    | ReturnType<typeof setStatus>\n    | ReturnType<typeof setUpdateStatus>\n    | ReturnType<typeof deletePost>\n\nexport const addPostAC = (newPostText: string) => {\n    return {\n        type: ADD_POST,\n        newPostText\n    } as const\n}\nexport const deletePost = (postId: number) => {\n    return {\n        type: DELETE_POST,\n        postId\n    } as const\n}\nexport const setUserProfile = (profile: ProfileUserType) => {\n    return {\n        type: SET_USER_PROFILE,\n        profile\n    } as const\n}\nexport const setStatus = (status: number) => {\n    return {\n        type: SET_USER_STATUS,\n        status\n    } as const\n}\nexport const setUpdateStatus = (status: string) => {\n    return {\n        type: 'SET_UPDATE_STATUS',\n        status\n    } as const\n}\nexport const getUserProfile = (userId: number) => async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\n    let response = await usersApi.getProfile(userId)\n    dispatch(setUserProfile(response.data))\n    await dispatch(getStatus(userId))\n}\nexport const getStatus = (userId: number) => async (dispatch: ThunkDispatch<AppStateType, unknown, ActionsTypes>) => {\n    let response = await profileApi.getStatus(userId)\n    dispatch(setStatus(response.data))\n}\nexport const updateStatus = (status: string) => async (dispatch: Dispatch) => {\n    let response = await profileApi.updateStatus(status)\n    if (response.data.resultCode === 0) {\n        dispatch(setUpdateStatus(status))\n    }\n}\n\nexport default profileReducer","import React from \"react\";\nimport styles from './Post.module.css';\n// import avatar_to_all from './../../../../images/avatar_to_all.png'\nimport {PostDataType} from \"../../../../redux/store\";\nconst avatar_to_all = 'https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260'\n\n\ntype PostType = {\n    post: PostDataType\n}\nconst Post: React.FC<PostType> = (props) => {\n    return (\n        <div className={styles.postsItem}>\n            <div className={styles.postsItem__inner}>\n                <img className={styles.postsItem__avatar}\n                     src={avatar_to_all}\n                     alt=\"avatar_to_all\"/>\n                {props.post.message}\n            </div>\n            <div className={styles.postsItem__activity}>\n                <span className={styles.postsItem__like}>{props.post.likeCount} Нравится</span>\n                <span className={styles.postsItem__send}>Написать сообщение</span>\n            </div>\n        </div>\n    )\n}\n\nexport default Post;","import React from \"react\";\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport styles from '../Profile.module.css'\nimport {maxLengthCreator, required} from \"../../../utils/validators\";\nimport {Textarea} from \"../../Common/FormControls/FormControls\";\n\n\nconst maxLength50 = maxLengthCreator(50)\nconst AddPostForm: React.FC<InjectedFormProps> = (props) => {\n    return (\n        <form className={styles.profileFormWrapper} onSubmit={props.handleSubmit}>\n            <div>\n                <Field className={styles.profileMessages__input}\n                       component={Textarea}\n                       name='newPostText'\n                       placeholder={'Введите сообщение'}\n                       validate={[required, maxLength50]}\n                />\n            </div>\n            <div>\n                <button className={styles.profileMessages__btn}>Написать</button>\n            </div>\n        </form>\n    )\n}\n\nexport default reduxForm({form: 'profileAddPostForm'})(AddPostForm)\n","import React from \"react\";\nimport styles from './MyPosts.module.css';\nimport Post from \"./Post/Post\";\nimport {ProfileUserType} from \"../../../redux/profileReducer\";\nimport AddPostForm from \"../AddPostForm/AddPostForm\";\n\n\ntype PropsType = {\n    profilePage: ProfileUserType\n    addPost: (newPostText: string) => void\n}\n\nconst MyPosts = React.memo((props: PropsType) => {\n    let state = props.profilePage\n    let postElements = state.postData.map(p => <Post key={p.id} post={p}/>);\n\n    let onAddPost = (values: any) => {\n        props.addPost(values.newPostText)\n        values.newPostText = ''\n    }\n\n    return (\n        <div>\n            <div>\n                <AddPostForm onSubmit={onAddPost}/>\n            </div>\n            <div className={styles.posts}>\n                {postElements}\n            </div>\n        </div>\n    )\n})\n\n\nexport default MyPosts;\n\n\n// class MyPosts extends React.PureComponent<PropsType> {\n//\n//     // shouldComponentUpdate(nextProps: Readonly<PropsType>, nextState: Readonly<{}>): boolean {\n//     //     return this.props === nextProps || nextState === this.state\n//     // }\n//\n//     render() {\n//         console.log('sd');\n//         let state = this.props.profilePage\n//         let postElements = state.postData.map(p => <Post key={p.id} post={p}/>);\n//         // let postElements = this.props.profilePage.postData.map(p => <Post post={p} key={p.id}/>)\n//\n//         let onAddPost = (values: any) => {\n//             this.props.addPost(values.newPostText)\n//             values.newPostText = ''\n//         }\n//\n//         return (\n//             <div>\n//                 <div>\n//                     <AddPostForm onSubmit={onAddPost}/>\n//                 </div>\n//                 <div className={styles.posts}>\n//                     {postElements}\n//                 </div>\n//             </div>\n//         )\n//     }\n// }\n\n\n","import React from \"react\";\nimport {ActionsTypes, RootStateType} from \"../../../redux/store\";\nimport {addPostAC, ProfileUserType} from \"../../../redux/profileReducer\";\nimport MyPosts from \"./MyPosts\";\nimport {connect} from \"react-redux\";\n\n\ntype PropsType = {\n    profilePage: ProfileUserType\n}\n\nlet mapStateToProps = (state: RootStateType) => {\n    return {\n        postData: state.profilePage.postData,\n        newPostText: state.profilePage.newPostText\n    }\n}\nlet mapDispatchToProps = (dispatch: (action: ActionsTypes) => void) => {\n    return {\n        addPost: (newPostText: string) => {\n            dispatch(addPostAC(newPostText))\n        },\n    }\n}\n\nconst MyPostsContainer: React.FC<PropsType> = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import React from \"react\";\nimport ProfileInfo from \"./ProfileInfo/ProfileInfo\";\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\nimport {ProfileUserType} from \"../../redux/profileReducer\";\n\n\ntype PropsType = {\n    profilePage: ProfileUserType\n    getUserProfile: (userId: number) => void\n    // getStatus: () => void\n    updateStatus: (status: string) => void\n}\nconst Profile: React.FC<PropsType> = ({profilePage, updateStatus}) => {\n    return (\n        <div>\n            <ProfileInfo profile={profilePage.profile}\n                         status={profilePage.status}\n                         updateStatus={updateStatus}\n            />\n            <MyPostsContainer profilePage={profilePage}/>\n        </div>\n    )\n}\n\nexport default Profile;","import React, {useEffect} from 'react';\nimport Profile from \"./Profile\";\nimport {connect, useDispatch} from \"react-redux\";\nimport {withRouter, RouteComponentProps} from 'react-router-dom';\nimport {getStatus, getUserProfile, ProfileUserType, setStatus, updateStatus} from \"../../redux/profileReducer\";\nimport {AppStateType} from \"../../redux/reduxStore\";\nimport {compose} from \"redux\";\n\n\ntype PathParamsType = {\n    userId: string\n}\ntype MapStatePropsType = {\n    profilePage: ProfileUserType\n    authorizedUserId: number | null\n    isAuth: boolean\n}\ntype MapDispatchPropsType = {\n    getUserProfile: (userId: number) => void\n    // getStatus: () => void\n    updateStatus: (status: string) => void\n}\ntype OwnPropsType = MapStatePropsType & MapDispatchPropsType\ntype PropsType = RouteComponentProps<PathParamsType> & OwnPropsType\n\nconst ProfileContainer = (props: PropsType) => {\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        let userId = +props.match.params.userId;\n        if (!userId) {\n            userId = props.authorizedUserId || 0;\n            // if (!userId) {                               // раскомент\n            //     props.history.push('/login')\n            // }\n        }\n        dispatch(getUserProfile(userId))\n        dispatch(setStatus(userId))\n    }, [])\n    return <Profile getUserProfile={props.getUserProfile}\n                    // getStatus={props.getStatus}\n                    updateStatus={props.updateStatus}\n                    profilePage={props.profilePage}/>\n}\n\nlet mapStateToProps = (state: AppStateType): MapStatePropsType => {\n    return {\n        profilePage: state.profilePage,\n        authorizedUserId: state.auth.userId,\n        isAuth: state.auth.isAuth,\n    }\n}\nexport default compose<React.ComponentType>(\n    connect<MapStatePropsType, MapDispatchPropsType, {}, AppStateType>(mapStateToProps, {\n        getUserProfile,\n        // getStatus,\n        updateStatus\n    }),\n    withRouter,\n)(ProfileContainer)\n\n","import React from 'react';\nimport {NavLink} from 'react-router-dom';\nimport styles from './Header.module.css'\n\n\ntype PropsType = {\n    isAuth: boolean\n    login: string | null\n    logout: () => void\n}\nconst Header: React.FC<PropsType> = (props) => {\n    return (\n        <header className={styles.header}>\n            <a className={styles.header__inner} href={\"/profile\"}>\n                <img className={styles.headerLogo} src='https://img.icons8.com/ios/452/owl.png'\n                     alt=\"logo\"/>\n            </a>\n            <a className={styles.header__inner} href={\"/profile\"}>\n                <h1 className={styles.headerTitle}>owlbook.com</h1>\n            </a>\n            <div className={styles.loginBlock}>\n                {props.isAuth\n                    ? <div>{props.login} <button className={styles.loginLogoutBtn} onClick={props.logout}>Выйти</button></div>\n                    : <NavLink className={styles.loginLogoutBtn} to={'/login'}>войти</NavLink>}\n            </div>\n        </header>\n    )\n}\n\nexport default Header;","import {Dispatch} from \"redux\";\nimport {authApi} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\nimport {RootDispatchType} from \"./reduxStore\";\n\n\nconst SET_USER_DATA = 'auth/SET_USER_DATA';\n\nexport type AuthPropsType = {\n    resultCode: number\n    messages: Array<string>\n    data: {\n        id: number\n        email: string\n        login: string\n    }\n}\nexport type AuthType = {\n    userId: number | null\n    email: string | null\n    login: string | null\n    isAuth: boolean\n}\nexport type InitialStateType = AuthType\n\nlet initialState = {\n    userId: null as number | null,\n    email: null,\n    login: null,\n    isAuth: false,\n}\n\nconst authReducer = (state: InitialStateType = initialState, action: ActionsTypes) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload,\n            }\n        default:\n            return state\n    }\n}\n\nexport type ActionsTypes = ReturnType<typeof setAuthUserData>\n\nexport const setAuthUserData = (userId: number | null, email: string | null, login: string | null, isAuth: boolean) => {\n    return {\n        type: SET_USER_DATA,\n        payload: {userId, email, login, isAuth}\n    } as const\n}\nexport const getAuthUserData = () => async (dispatch: Dispatch) => {\n    let response = await authApi.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data;\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n}\n\nexport const login = (email: string, password: string, rememberMe: boolean) => async (dispatch: RootDispatchType) => {\n    let response = await authApi.login(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        await dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'Ошибка ввода'\n        dispatch(stopSubmit('login', {_error: message}))\n    }\n}\n\nexport const logout = () => async (dispatch: Dispatch) => {\n    let response = await authApi.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer\n\n\n\n\n\n\n","import React from \"react\";\nimport Header from \"./Header\";\nimport {connect} from \"react-redux\";\nimport {logout} from \"../../redux/authReducer\";\nimport {AppStateType} from \"../../redux/reduxStore\";\n\n\ntype OwnProps = {}\ntype MapStateToPropsType = {\n    isAuth: boolean\n    login: string | null\n}\ntype MapDispatchType = {\n    logout: () => void\n}\ntype OwnPropsType = MapStateToPropsType & MapDispatchType\n\nclass HeaderContainer extends React.Component<OwnPropsType> {\n    render() {\n        return <Header {...this.props}/>\n    }\n}\n\nconst mapStateToProps = (state: AppStateType): MapStateToPropsType => {\n    return {\n        isAuth: state.auth.isAuth,\n        login: state.auth.login,\n    }\n}\nexport default connect<MapStateToPropsType, MapDispatchType, OwnProps, AppStateType>(mapStateToProps, {logout})(HeaderContainer);\n","import React from 'react';\nimport {Field, InjectedFormProps, reduxForm} from \"redux-form\";\nimport {Input} from \"../Common/FormControls/FormControls\";\nimport styles from './Login.module.css';\nimport {required} from \"../../utils/validators\";\nimport {connect} from \"react-redux\";\nimport {login} from \"../../redux/authReducer\";\nimport {Redirect} from \"react-router-dom\";\nimport {AppStateType} from \"../../redux/reduxStore\";\n\n\ntype LoginPropsType = {\n    isAuth: boolean\n    login: (email: string, password: string, rememberMe: boolean) => void\n}\n\ntype FormDataType = {\n    email: string,\n    password: string,\n    rememberMe: boolean\n}\n\nconst LoginForm: React.FC<InjectedFormProps<FormDataType>> = (props) => {\n    return (\n        <form onSubmit={props.handleSubmit} className={styles.loginFormWrapper}>\n            <div>\n                <Field aria-label='Email'\n                       placeholder='Email'\n                       type='Email'\n                       name='email'\n                       component={Input}\n                       validate={required}/>\n            </div>\n            <div>\n                <Field aria-label='Password'\n                       placeholder='Пароль'\n                       type='password'\n                       name='password'\n                       component={Input}\n                       validate={required}/>\n            </div>\n            <div>\n                <Field type='checkbox'\n                       name='rememberMe'\n                       component={'input'}/> Запомнить\n            </div>\n            {props.error && <div className={styles.formSummaryError}>{props.error}</div>}\n            <div>\n                <button className={styles.loginBtn}>Login</button>\n            </div>\n        </form>\n    );\n};\n\nconst LoginReduxForm = reduxForm<FormDataType>({form: 'login'})(LoginForm)\n\n\nconst Login = (props: LoginPropsType) => {\n    const onSubmit = (formData: FormDataType) => {\n        props.login(formData.email, formData.password, formData.rememberMe);\n    }\n\n    // if (props.isAuth) {\n    //     return <Redirect to={'/profile'}/>\n    // }\n\n    return (\n        <div>\n            <h1>Логин</h1>\n            <LoginReduxForm onSubmit={onSubmit}/>\n        </div>\n    );\n};\nconst mstp = (state: AppStateType) => ({\n    isAuth: state.auth.isAuth\n})\nexport default connect(mstp, {login})(Login);\n","// import ava1 from \"../images/ava_1.png\";\n// import ava2 from \"../images/ava_2.png\";\n// import ava3 from \"../images/ava_3.png\";\nconst ava = 'https://cdn-icons-png.flaticon.com/512/12/12426.png'\n\nexport type SidebarType = {\n    id: number\n    name: string\n    ava: string\n}\nexport type InitialStateType = {\n    sidebar: Array<SidebarType>\n}\nlet initialState: InitialStateType = {\n    sidebar: [\n        {id: 1, name: 'Неясыть', ava: ava},\n        {id: 2, name: 'Филин', ava: ava},\n        {id: 3, name: 'Полярная сова', ava: ava}\n    ]\n}\nconst friendsOnlineReducer = (state: InitialStateType = initialState) => {\n    return state\n}\n\nexport default friendsOnlineReducer","import {getAuthUserData} from \"./authReducer\";\nimport {RootDispatchType} from \"./reduxStore\";\n\nconst SUCCESS_INITIALIZED = 'SUCCESS_INITIALIZED';\n\nexport type AppInitialStateType = {\n    initialized: boolean\n}\nexport type ActionsTypes = ReturnType<typeof successInitialized>\n\nlet initialState = {\n    initialized: false,\n}\n\nconst appReducer = (state: AppInitialStateType = initialState, action: ActionsTypes) => {\n    switch (action.type) {\n        case SUCCESS_INITIALIZED:\n            return {\n                ...state,\n                initialized: true,\n            }\n        default:\n            return state\n    }\n}\nexport const initializeApp = () => (dispatch: RootDispatchType) => {\n    let promise = dispatch(getAuthUserData())\n    Promise.all([promise])\n        .then(() => {\n            dispatch(successInitialized())\n        })\n}\nexport const successInitialized = () => ({type: SUCCESS_INITIALIZED,} as const)\n\nexport default appReducer\n","import {Action, AnyAction, applyMiddleware, combineReducers, compose, createStore, Dispatch} from \"redux\";\nimport friendsOnlineReducer from \"./friendsOnlineReducer\";\nimport dialogsReducer from \"./dialogsReducer\";\nimport profileReducer from \"./profileReducer\";\nimport usersReducer from \"./usersReducer\";\nimport authReducer from \"./authReducer\";\nimport thunkMiddleware, {ThunkDispatch} from 'redux-thunk';\nimport {reducer as formReducer} from \"redux-form\";\nimport appReducer from \"./appReducer\";\n\n\nexport const rootReducer = combineReducers({\n    profilePage: profileReducer,\n    dialogsPage: dialogsReducer,\n    friendsOnline: friendsOnlineReducer,\n    usersPage: usersReducer,\n    auth: authReducer,\n    form: formReducer,\n    app: appReducer,\n})\n\n\n// @ts-ignore\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\nexport const store = createStore(rootReducer, /* preloadedState, */ composeEnhancers(applyMiddleware(thunkMiddleware)))\n\nexport type AppStateType = ReturnType<typeof rootReducer>\nexport type RootDispatchType = Dispatch<Action<string>> & ThunkDispatch<AppStateType, string, AnyAction>;\n\n// export const store = createStore(rootReducer, applyMiddleware(thunkMiddleware))\n// @ts-ignore\n// window.store = store\n","import React, {ComponentType} from 'react';\nimport styles from './App.module.css';\nimport {BrowserRouter, Route, withRouter} from 'react-router-dom';\nimport Navbar from \"../Navbar/Navbar\";\nimport UsersContainer from \"../Users/UsersContainer\";\nimport News from \"../News/News\";\nimport Music from \"../Music/Music\";\nimport Photo from \"../Photo/Photo\";\nimport Video from \"../Video/Video\";\nimport Settings from \"../Settings/Settings\";\nimport DialogsContainer from \"../Dialogs/DialogsContainer\";\nimport ProfileContainer from \"../Profile/ProfileContainer\";\nimport HeaderContainer from \"../Header/HeaderContainer\";\nimport Login from \"../Login/Login\";\nimport {connect, Provider} from \"react-redux\";\nimport {AppStateType, store} from \"../../redux/reduxStore\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"../../redux/appReducer\";\nimport Preloader from \"../Common/Preloader/Preloader\";\n\n\ntype MapDispatchType = {\n    initializeApp: () => void\n}\n\ninterface PropsType extends MapDispatchType {\n    initialized: boolean\n}\n\ninterface StateType {\n}\n\nclass App extends React.Component<PropsType, StateType> {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className={styles.container}>\n                <div className={styles.app__wrapper}>\n                    <HeaderContainer/>\n                    <Navbar/>\n                    <div className={styles.content__wrapper}>\n                        <div className={styles.content__inner}>\n                            <Route path={'/profile/:userId?'} render={() => <ProfileContainer/>}/>\n                            <Route path={'/dialogs'} render={() => <DialogsContainer/>}/>\n                            <Route path={'/users'} render={() => <UsersContainer/>}/>\n                            <Route path={'/news'} render={() => <News/>}/>\n                            <Route path={'/music'} render={() => <Music/>}/>\n                            <Route path={'/photo'} render={() => <Photo/>}/>\n                            <Route path={'/video'} render={() => <Video/>}/>\n                            <Route path={'/settings'} render={() => <Settings/>}/>\n                            <Route path={'/login'} render={() => <Login/>}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mstp = (state: AppStateType) => ({\n    initialized: state.app.initialized\n})\n\nlet AppContainer = compose<ComponentType>(\n    withRouter,\n    connect(mstp, {initializeApp}))(App)\n\nlet SocialApp = (props: StateType) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n}\n\nexport default SocialApp\n\n\n\n\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport SocialApp from \"./components/App/App\";\n\n\nReactDOM.render(\n   <SocialApp/>, document.getElementById('root'))\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormControls_formControl__zKx4R\",\"error\":\"FormControls_error__frz7K\",\"inputWindow\":\"FormControls_inputWindow__2O6cV\",\"errorMessage\":\"FormControls_errorMessage__3coxl\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsItem\":\"Post_postsItem__1DHL5\",\"postsItem__inner\":\"Post_postsItem__inner__1-7QK\",\"postsItem__avatar\":\"Post_postsItem__avatar__3N6Bd\",\"postsItem__messages\":\"Post_postsItem__messages__1V62h\",\"postsItem__activity\":\"Post_postsItem__activity__1G8T2\",\"postsItem__like\":\"Post_postsItem__like__3sh5I\",\"postsItem__send\":\"Post_postsItem__send__QVbcU\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileImg\":\"ProfileInfo_profileImg__3mXT7\",\"avatar\":\"ProfileInfo_avatar__3xuFq\",\"avatarImg\":\"ProfileInfo_avatarImg__2izmI\",\"myPosts\":\"ProfileInfo_myPosts__1no8m\",\"myPosts__input\":\"ProfileInfo_myPosts__input__3tJm9\",\"myPosts__button\":\"ProfileInfo_myPosts__button__19Gsk\",\"statusText\":\"ProfileInfo_statusText__1KWIZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"dialogs__item\":\"DialogItem_dialogs__item__1Cdio\",\"dialogs__itemLink_img\":\"DialogItem_dialogs__itemLink_img__cYh4p\",\"dialogs__itemLink\":\"DialogItem_dialogs__itemLink__tlNq4\",\"dialogs__itemLink_active\":\"DialogItem_dialogs__itemLink_active__2OIAv\",\"dialogs__item_name\":\"DialogItem_dialogs__item_name__3uvlk\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"App_container__16xz_\",\"app__wrapper\":\"App_app__wrapper__1z8PO\",\"content__wrapper\":\"App_content__wrapper__32aMC\",\"content__inner\":\"App_content__inner__37WXs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fOnline__inner\":\"FriendsAvatar_fOnline__inner__3mbGn\",\"fOnline__name\":\"FriendsAvatar_fOnline__name__2sdlO\",\"fOnline__ava\":\"FriendsAvatar_fOnline__ava__22q3P\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profileFormWrapper\":\"Profile_profileFormWrapper__1TJsL\",\"profileMessages__input\":\"Profile_profileMessages__input__1M3bu\",\"profileMessages__btn\":\"Profile_profileMessages__btn__1SIl3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loginFormWrapper\":\"Login_loginFormWrapper__20PK_\",\"loginBtn\":\"Login_loginBtn__JiEkY\",\"formSummaryError\":\"Login_formSummaryError__3cy0x\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fOnline\":\"FriendsOnline_fOnline__3EvEn\",\"fOnline__title\":\"FriendsOnline_fOnline__title__3WIS0\"};"],"sourceRoot":""}