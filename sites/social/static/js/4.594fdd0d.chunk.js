(this.webpackJsonpsocial_ts=this.webpackJsonpsocial_ts||[]).push([[4],{347:function(e,t,s){e.exports={profileImg:"ProfileInfo_profileImg__3mXT7",profileImg__inputPhoto_wrapper:"ProfileInfo_profileImg__inputPhoto_wrapper__xByAx",profileImg__inputPhoto:"ProfileInfo_profileImg__inputPhoto__1Osax",profileData__changeBtn:"ProfileInfo_profileData__changeBtn__2-ENY",profileInfo__contacts:"ProfileInfo_profileInfo__contacts__2rEBN",avatar:"ProfileInfo_avatar__3xuFq",avatarImg:"ProfileInfo_avatarImg__2izmI",myPosts:"ProfileInfo_myPosts__1no8m",myPosts__input:"ProfileInfo_myPosts__input__3tJm9",statusText:"ProfileInfo_statusText__1KWIZ",profDescr:"ProfileInfo_profDescr__2uUcm"}},348:function(e,t,s){e.exports={usersInner:"Users_usersInner__2v4Ca",usersWrapper:"Users_usersWrapper__2gv8N",users__leftSide:"Users_users__leftSide__2K0Yk",usersPhoto:"Users_usersPhoto__3osYH",usersBtn:"Users_usersBtn__1iOAv",users__rightSide:"Users_users__rightSide__2yxXk",pagination:"Users_pagination__2Njh9",usersPagination:"Users_usersPagination__1qbrf",pages:"Users_pages__2ZPtK",selectedPage:"Users_selectedPage__J63sh",usersItems:"Users_usersItems__3D9Hj",pageBtnDisplayNone:"Users_pageBtnDisplayNone__2TZjX",pageBtn:"Users_pageBtn__2Wtq-"}},351:function(e,t,s){"use strict";s.d(t,"b",(function(){return n}));s(0);var o=s(348),r=s.n(o),i=s(30),a=s(1),n="https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260";t.a=function(e){return Object(a.jsxs)("div",{className:r.a.usersItems,children:[Object(a.jsx)(i.b,{to:"/profile/"+e.user.id,children:Object(a.jsx)("img",{className:r.a.usersPhoto,alt:"user_photo",src:null!==e.user.photos.small?e.user.photos.small:n})}),Object(a.jsx)("div",{children:e.user.followed?Object(a.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.unfollow(e.user.id)},children:"Unfollow"}):Object(a.jsx)("button",{disabled:e.followingInProgress.includes(e.user.id),onClick:function(){e.follow(e.user.id)},children:"Follow"})}),Object(a.jsxs)("span",{children:[Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:e.user.name}),Object(a.jsx)("div",{children:e.user.status})]}),Object(a.jsxs)("span",{children:[Object(a.jsx)("div",{children:"props.location.country"}),Object(a.jsx)("div",{children:"props.location.city"})]})]})]})}},352:function(e,t,s){"use strict";s.d(t,"b",(function(){return o})),s.d(t,"a",(function(){return r}));var o=function(e){if(!e)return"\u041e\u0431\u044f\u0437\u0430\u0442\u0435\u043b\u044c\u043d\u043e \u0437\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435"},r=function(e){return function(t){if(t.length>e)return"\u041d\u0435 \u0431\u043e\u043b\u044c\u0448\u0435 ".concat(e," \u0441\u0438\u043c\u0432\u043e\u043b\u043e\u0432")}}},353:function(e,t,s){"use strict";s.d(t,"a",(function(){return c}));var o=s(9),r=s(346),i=(s(0),s(354)),a=s.n(i),n=(s(169),s(1)),c=function(e){e.input,e.meta;var t=Object(r.a)(e,["input","meta"]),s=e.meta.touched&&e.meta.error;return Object(n.jsxs)("div",{className:"".concat(a.a.formControl," ").concat(s?a.a.error:""),children:[Object(n.jsx)("div",{children:Object(n.jsx)("textarea",Object(o.a)(Object(o.a)({},e.input),t))}),s&&Object(n.jsx)("div",{className:a.a.errorMessage,children:e.meta.error})]})}},354:function(e,t,s){e.exports={formControl:"FormControls_formControl__zKx4R",error:"FormControls_error__frz7K",inputWindow:"FormControls_inputWindow__2O6cV",errorMessage:"FormControls_errorMessage__3coxl"}},373:function(e,t,s){e.exports={posts:"MyPosts_posts__3tZ1c",myPosts__input_inner:"MyPosts_myPosts__input_inner__3ju60",myPosts__input:"MyPosts_myPosts__input__3c6Pi"}},374:function(e,t,s){e.exports={postsItem:"Post_postsItem__1DHL5",postsItem__inner:"Post_postsItem__inner__1-7QK",postsItem__avatar:"Post_postsItem__avatar__3N6Bd",postsItem__messages:"Post_postsItem__messages__1V62h",postsItem__activity:"Post_postsItem__activity__1G8T2",postsItem__like:"Post_postsItem__like__3sh5I",postsItem__send:"Post_postsItem__send__QVbcU"}},375:function(e,t,s){e.exports={profileFormWrapper:"Profile_profileFormWrapper__1TJsL",profileMessages__input:"Profile_profileMessages__input__1M3bu",profileMessages__btn:"Profile_profileMessages__btn__1SIl3"}},419:function(e,t,s){"use strict";s.r(t);var o=s(0),r=s.n(o),i=s(346),a=s(16),n=s(347),c=s.n(n),l=s(103),_=s(1),u=function(e){var t=Object(o.useState)(!1),s=Object(a.a)(t,2),r=s[0],i=s[1],n=Object(o.useState)(e.status),l=Object(a.a)(n,2),u=l[0],p=l[1];Object(o.useEffect)((function(){p(e.status)}),[e.status]);return Object(_.jsxs)("div",{className:c.a.statusText,children:[!r&&Object(_.jsxs)("div",{children:[Object(_.jsx)("b",{children:"\u0421\u0442\u0430\u0442\u0443\u0441: "})," ",Object(_.jsx)("span",{onDoubleClick:function(){i(!0)},children:u||"no status"})]}),r&&Object(_.jsx)("input",{onChange:function(e){p(e.currentTarget.value)},onBlur:function(){i(!1),e.updateStatus(u)},autoFocus:!0,value:u})]})},p=s(351),f=s(9),j=s(344),b=s(337),d=s(339),m=s(137),h=s(341),O=function(e){var t=e.profile,s=e.saveProfile,o=e.goToViewMode,r=Object(m.a)({initialValues:{lookingForAJob:t.profile.lookingForAJob,lookingForAJobDescription:t.profile.lookingForAJobDescription,fullName:t.profile.fullName,contacts:{github:t.profile.contacts.github,vk:t.profile.contacts.vk,facebook:t.profile.contacts.facebook,instagram:t.profile.contacts.instagram,twitter:t.profile.contacts.twitter,website:t.profile.contacts.website,youtube:t.profile.contacts.youtube,mainLink:t.profile.contacts.mainLink},aboutMe:t.profile.aboutMe,userId:t.profile.userId,photos:{small:"",large:""}},onSubmit:function(e){s(e),o()}});return Object(_.jsx)("form",{onSubmit:r.handleSubmit,children:Object(_.jsxs)(j.a,{children:[Object(_.jsx)("div",{children:Object(_.jsx)("button",{type:"submit",children:"\u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c"})}),Object(_.jsx)("div",{className:c.a.profileInfo__item,children:Object(_.jsx)(b.a,Object(f.a)({label:"\u0418\u043c\u044f",margin:"normal"},r.getFieldProps("fullName")))}),Object(_.jsx)("div",{className:c.a.profileInfo__item,children:Object(_.jsx)(b.a,Object(f.a)({label:"\u041e\u0431\u043e \u043c\u043d\u0435",margin:"normal"},r.getFieldProps("aboutMe")))}),Object(_.jsx)("div",{className:c.a.profileInfo__item,children:Object(_.jsx)(b.a,Object(f.a)({label:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438",margin:"normal"},r.getFieldProps("lookingForAJobDescription")))}),Object(_.jsxs)("div",{className:c.a.profileInfo__item,children:[Object(_.jsx)("b",{children:"\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: "}),Object(_.jsx)(h.a,Object(f.a)(Object(f.a)({label:"",control:Object(_.jsx)(d.a,{})},r.getFieldProps("lookingForAJob")),{},{checked:r.values.lookingForAJob}))]}),Object(_.jsx)("div",{className:c.a.profileInfo__contacts,children:Object.entries(t.profile.contacts).map((function(e){return Object(_.jsx)("div",{className:c.a.profileInfo__contact,children:Object(_.jsx)(b.a,Object(f.a)({label:e,margin:"normal"},r.getFieldProps("contacts.".concat(e[0]))),e[0])},e[0])}))})]})})},x=function(e){var t=e.contactTitle,s=e.contactValue;return Object(_.jsxs)("div",{className:c.a.profileInfo__contact,children:[Object(_.jsxs)("b",{children:[t,": "]})," ",s]})},g=function(e){var t=e.profile,s=e.isAuth,o=e.goToEditMode;return Object(_.jsxs)("div",{className:c.a.profileInfo__items,children:[s&&Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:c.a.profileData__changeBtn,onClick:o,children:"\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0434\u0430\u043d\u043d\u044b\u0435"})}),Object(_.jsxs)("div",{className:c.a.profileInfo__item,children:[Object(_.jsx)("b",{children:"\u0418\u043c\u044f: "})," ",t.profile.fullName]}),Object(_.jsxs)("div",{className:c.a.profileInfo__item,children:[Object(_.jsx)("b",{children:"\u041e\u0431\u043e \u043c\u043d\u0435: "})," ",t.profile.aboutMe]}),Object(_.jsxs)("div",{className:c.a.profileInfo__item,children:[Object(_.jsx)("b",{children:"\u041f\u043e\u0438\u0441\u043a \u0440\u0430\u0431\u043e\u0442\u044b: "})," ",t.profile.lookingForAJob?"\u0434\u0430":"\u043d\u0435\u0442"]}),Object(_.jsxs)("div",{className:c.a.profileInfo__item,children:[Object(_.jsx)("b",{children:"\u041c\u043e\u0438 \u043f\u0440\u043e\u0444\u0435\u0441\u0441\u0438\u043e\u043d\u0430\u043b\u044c\u043d\u044b\u0435 \u043d\u0430\u0432\u044b\u043a\u0438: "})," ",t.profile.lookingForAJobDescription]}),Object(_.jsx)("div",{className:c.a.profileInfo__contacts,children:Object.entries(t.profile.contacts).map((function(e){var t=Object(a.a)(e,2),s=t[0],o=t[1];return Object(_.jsx)(x,{contactTitle:s,contactValue:o},s)}))})]})},P=function(e){var t=Object(o.useState)(!1),s=Object(a.a)(t,2),r=s[0],i=s[1];if(!e.profile)return Object(_.jsx)(l.a,{});return e.profile.profile.contacts&&Object(_.jsxs)("div",{children:[Object(_.jsxs)("div",{children:[Object(_.jsx)("img",{className:c.a.profileImg,src:e.profile.profile.photos?e.profile.profile.photos.large:p.b,alt:"avatar"}),Object(_.jsx)("div",{className:c.a.profileImg__inputPhoto_wrapper,children:e.isAuth&&Object(_.jsx)("input",{className:c.a.profileImg__inputPhoto,type:"file",onChange:function(t){t.target.files&&t.target.files.length&&e.callbackPhoto(t.target.files[0])}})})]}),r?Object(_.jsx)(O,{profile:e.profile,saveProfile:e.saveProfile,goToViewMode:function(){i(!1)}}):Object(_.jsx)(g,{goToEditMode:function(){i(!0)},profile:e.profile,isAuth:e.isAuth}),Object(_.jsx)(u,{status:e.status,updateStatus:e.updateStatus})]})},v=s(113),I=s(373),N=s.n(I),k=s(374),w=s.n(k),y=function(e){return Object(_.jsxs)("div",{className:w.a.postsItem,children:[Object(_.jsxs)("div",{className:w.a.postsItem__inner,children:[Object(_.jsx)("img",{className:w.a.postsItem__avatar,src:"https://images.pexels.com/photos/1564839/pexels-photo-1564839.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=750&w=1260",alt:"avatar_to_all"}),e.post.message]}),Object(_.jsxs)("div",{className:w.a.postsItem__activity,children:[Object(_.jsxs)("span",{className:w.a.postsItem__like,children:[e.post.likeCount," \u041d\u0440\u0430\u0432\u0438\u0442\u0441\u044f"]}),Object(_.jsx)("span",{className:w.a.postsItem__send,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435"})]})]})},F=s(169),S=s(170),A=s(375),M=s.n(A),U=s(352),T=s(353),D=Object(U.a)(50),C=Object(S.a)({form:"profileAddPostForm"})((function(e){return Object(_.jsxs)("form",{className:M.a.profileFormWrapper,onSubmit:e.handleSubmit,children:[Object(_.jsx)("div",{children:Object(_.jsx)(F.a,{className:M.a.profileMessages__input,component:T.a,name:"newPostText",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043e\u043e\u0431\u0449\u0435\u043d\u0438\u0435",validate:[U.b,D]})}),Object(_.jsx)("div",{children:Object(_.jsx)("button",{className:M.a.profileMessages__btn,children:"\u041d\u0430\u043f\u0438\u0441\u0430\u0442\u044c"})})]})})),J=r.a.memo((function(e){var t=e.profilePage.postData.map((function(e){return Object(_.jsx)(y,{post:e},e.id)}));return Object(_.jsxs)("div",{children:[Object(_.jsx)("div",{children:Object(_.jsx)(C,{onSubmit:function(t){e.addPost(t.newPostText),t.newPostText=""}})}),Object(_.jsx)("div",{className:N.a.posts,children:t})]})})),B=s(40),W=Object(B.b)((function(e){return{postData:e.profilePage.postData,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(Object(v.a)(t))}}}))(J),V=function(e){var t=e.profilePage,s=e.updateStatus,o=Object(i.a)(e,["profilePage","updateStatus"]);return Object(_.jsxs)("div",{children:[Object(_.jsx)(P,{profile:t,status:t.status,isOwner:o.isOwner,updateStatus:s,callbackPhoto:o.callbackPhoto,isAuth:o.isAuth,saveProfile:o.saveProfile}),Object(_.jsx)(W,{profilePage:t})]})},E=s(22),K=s(59);t.default=Object(K.d)(Object(B.b)((function(e){return{profilePage:e.profilePage,authorizedUserId:e.auth.userId,isAuth:e.auth.isAuth}}),{getUserProfile:v.c,savePhoto:v.d,saveProfile:v.e,updateStatus:v.g}),E.g)((function(e){var t=Object(B.c)(),s=+e.match.params.userId;s||(s=e.authorizedUserId||0),Object(o.useEffect)((function(){t(Object(v.c)(s)),t(Object(v.f)(s))}),[]);return Object(_.jsx)(V,{getUserProfile:e.getUserProfile,isOwner:!e.match.params.userId,updateStatus:e.updateStatus,profilePage:e.profilePage,callbackPhoto:function(e){t(Object(v.d)(e))},isAuth:e.isAuth,saveProfile:function(t){e.saveProfile(t,s)}})}))}}]);
//# sourceMappingURL=4.594fdd0d.chunk.js.map